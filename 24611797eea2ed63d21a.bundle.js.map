{"version":3,"sources":["webpack://wettma/webpack/runtime/chunk loaded","webpack://wettma/webpack/runtime/load script","webpack://wettma/webpack/runtime/css loading","webpack://wettma/./src/abortable-event-listener.ts","webpack://wettma/./src/components/ExplanationComponent/ExplanationComponent.ts","webpack://wettma/./src/components/ExplanationComponent/ExplanationComponent.html","webpack://wettma/./src/ArrayToElementRenderer.ts","webpack://wettma/./src/state/store.ts","webpack://wettma/./src/components/OddsButton/OddsButton.ts","webpack://wettma/./src/components/OddsButton/OddsButton.html","webpack://wettma/./src/state/requests/CreateBetAction.ts","webpack://wettma/./src/api/models.ts","webpack://wettma/./src/state/state.ts","webpack://wettma/./src/state/requests/ShowGameBets.ts","webpack://wettma/./src/components/BetsDisplay/BetsDisplay.ts","webpack://wettma/./src/components/BetsDisplay/BetsDisplay.html","webpack://wettma/./src/components/UpcomingGameDisplay/UpcomingGameDisplay.ts","webpack://wettma/./src/components/UpcomingGameDisplay/UpcomingGameDisplay.html","webpack://wettma/./src/components/FinishedGameDisplay/FinishedGameDisplay.ts","webpack://wettma/./src/components/FinishedGameDisplay/FinishedGameDisplay.html","webpack://wettma/./src/components/HomeComponent/HomeComponent.ts","webpack://wettma/./src/components/HomeComponent/HomeComponent.html","webpack://wettma/./src/components/LoginForm/LoginForm.ts","webpack://wettma/./src/components/LoginForm/LoginForm.html","webpack://wettma/./src/components/LoginComponent/LoginComponent.ts","webpack://wettma/./src/components/LoginComponent/LoginComponent.html","webpack://wettma/./src/state/requests/RegisterAction.ts","webpack://wettma/./src/components/RegisterComponent/RegisterComponent.ts","webpack://wettma/./src/components/RegisterComponent/RegisterComponent.html","webpack://wettma/./src/state/requests/UpdateScoreboardAction.ts","webpack://wettma/./src/components/ScoreboardComponent/ScoreboardComponent.ts","webpack://wettma/./src/components/ScoreboardComponent/ScoreboardComponent.html","webpack://wettma/./src/state/requests/SetResultAction.ts","webpack://wettma/./src/components/SetResultComponent/SetResultComponent.ts","webpack://wettma/./src/components/SetResultComponent/SetResultComponent.html","webpack://wettma/./src/app-router.ts","webpack://wettma/./src/state/requests/Initialize.ts","webpack://wettma/./src/state/requests/LoginPageOpened.ts","webpack://wettma/./src/state/requests/LogoutAction.ts","webpack://wettma/./src/components/AppBar/AppBar.ts","webpack://wettma/./src/components/AppBar/AppBar.html","webpack://wettma/./src/index.ts","webpack://wettma/webpack/bootstrap","webpack://wettma/webpack/runtime/compat get default export","webpack://wettma/webpack/runtime/define property getters","webpack://wettma/webpack/runtime/ensure chunk","webpack://wettma/webpack/runtime/get javascript chunk filename","webpack://wettma/webpack/runtime/get mini-css chunk filename","webpack://wettma/webpack/runtime/global","webpack://wettma/webpack/runtime/hasOwnProperty shorthand","webpack://wettma/webpack/runtime/make namespace object","webpack://wettma/webpack/runtime/publicPath","webpack://wettma/webpack/runtime/jsonp chunk loading","webpack://wettma/webpack/startup"],"names":["deferred","inProgress","dataWebpackPrefix","loadStylesheet","installedCssChunks","abortableEventListener","element","event","listenerFn","signal","addEventListener","removeEventListener","ExplanationComponent","HTMLElement","super","this","innerHTML","router","AppRouter","getInstance","abortController","AbortController","querySelector","e","preventDefault","navigate","abort","customElements","define","ArrayToElementRenderer","listElement","keySelector","createElement","keyToElement","Map","elementToKey","WeakMap","list","updateElement","keyCache","getKey","d","get","key","set","x","Array","from","children","el","data","find","i","removeChild","before","nextKeyToElement","t","childElement","firstElementChild","prepend","nextElementSibling","insertAdjacentElement","Store","_state","subscriptions","worker","Worker","URL","ev","s","call","err","console","error","instance","sub","push","splice","indexOf","action","postMessage","ChoiceAttribute","DisplayAttribute","OddsButton","btn","dispatchEvent","CustomEvent","bubbles","detail","parseInt","getAttribute","updateAttributes","innerText","CreateBetAction","oddsId","choice","type","Choice","RequestState","ShowGameBets","gameId","BetsDisplay","expandLink","table","loading","store","tableBody","expandText","expandArrow","betsRenderer","g","userId","row","document","namecol","appendChild","choiceCol","showBets","style","display","classList","toggle","postAction","game","id","subscribe","updateBets","bets","gameBets","requestState","InProgress","update","displayName","Team1","team1","Team2","team2","Draw","state","i18nFormat","Intl","DateTimeFormat","weekday","day","month","hour","minute","flags","UpcomingGameDisplay","team1Label","team2Label","team1Odds","drawOdds","team2Odds","oddsForm","timeDisplay","myBetContainer","myBetTeam","myBetOdds","saving","oddsChangedError","gameStartedError","unknownError","team1Flag","team2Flag","odds","format","time","className","visibility","setAttribute","toFixed","draw","myBet","saveError","oddsChanged","gameStarted","unknown","Date","betsDisplay","setGame","FinishedGameDisplay","correctBet","wrongBet","goals1","goals2","result","team1Goals","team2Goals","correct","wrong","querySelectorAll","HomeComponent","upcomingGamesList","finishedGamesList","upcomingGamesRenderer","li","finishedGamesRenderer","updateState","link","upcomingGames","finishedGames","LoginForm","nonceInput","redirectUriInput","value","window","location","href","replace","loginHintInput","loginForm","length","text","possible","charAt","Math","floor","random","nonce","hint","submit","LoginComponent","navigator","credentials","federated","providers","mediation","then","c","setLoginHint","RegisterAction","RegisterComponent","form","registerFailed","onFormSubmit","register","Successful","Failed","name","FormData","UpdateScoreboardAction","ScoreboardComponent","scoreboardLoadError","scoreboardRenderer","pointscol","scoreboard","points","scoreboardRequest","SetResultAction","SetResultComponent","gamesSelectRenderer","n","saveFailed","saveSuccess","formData","setResultRequest","self","lastRoute","currentRoute","activeRoute","getElementById","Initialize","accessToken","LoginPageOpened","LogoutAction","AppBar","logoutBtn","loginBtn","userContainer","sessionStorage","clear","async","serviceWorker","registration","catch","registrationError","log","appRouter","run","goToLogin","goToRegister","sessionStorageKey","searchParameters","URLSearchParams","hash","tokenFromUrl","history","replaceState","res","fetch","tokenInfo","json","ok","Error","status","token","exp","scope","setItem","JSON","stringify","cred","create","provider","sessionToken","getItem","parsed","parse","getAccessToken","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","m","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","Object","keys","every","getter","__esModule","a","definition","o","defineProperty","enumerable","f","chunkId","Promise","all","reduce","promises","u","miniCssF","globalThis","Function","obj","prop","prototype","hasOwnProperty","l","url","done","script","needAttach","scripts","getElementsByTagName","charset","timeout","nc","src","onScriptComplete","prev","onerror","onload","clearTimeout","doneFns","parentNode","forEach","setTimeout","bind","target","head","r","Symbol","toStringTag","p","resolve","reject","fullhref","existingLinkTags","dataHref","tag","rel","existingStyleTags","findStylesheet","linkTag","errorType","realHref","code","request","createStylesheet","826","miniCss","b","baseURI","installedChunks","installedChunkData","promise","realSrc","message","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","__webpack_exports__"],"mappings":"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","file":"24611797eea2ed63d21a.bundle.js","sourcesContent":["var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tresult = fn();\n\t\t}\n\t}\n\treturn result;\n};","var inProgress = {};\nvar dataWebpackPrefix = \"wettma:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = function(url, done, key, chunkId) {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = function(prev, event) {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach(function(fn) { return fn(event); });\n\t\tif(prev) return prev(event);\n\t}\n\t;\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","var createStylesheet = function(chunkId, fullhref, resolve, reject) {\n\tvar linkTag = document.createElement(\"link\");\n\n\tlinkTag.rel = \"stylesheet\";\n\tlinkTag.type = \"text/css\";\n\tvar onLinkComplete = function(event) {\n\t\t// avoid mem leaks.\n\t\tlinkTag.onerror = linkTag.onload = null;\n\t\tif (event.type === 'load') {\n\t\t\tresolve();\n\t\t} else {\n\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\tvar realHref = event && event.target && event.target.href || fullhref;\n\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + realHref + \")\");\n\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n\t\t\terr.type = errorType;\n\t\t\terr.request = realHref;\n\t\t\tlinkTag.parentNode.removeChild(linkTag)\n\t\t\treject(err);\n\t\t}\n\t}\n\tlinkTag.onerror = linkTag.onload = onLinkComplete;\n\tlinkTag.href = fullhref;\n\n\tdocument.head.appendChild(linkTag);\n\treturn linkTag;\n};\nvar findStylesheet = function(href, fullhref) {\n\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n\tfor(var i = 0; i < existingLinkTags.length; i++) {\n\t\tvar tag = existingLinkTags[i];\n\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return tag;\n\t}\n\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n\tfor(var i = 0; i < existingStyleTags.length; i++) {\n\t\tvar tag = existingStyleTags[i];\n\t\tvar dataHref = tag.getAttribute(\"data-href\");\n\t\tif(dataHref === href || dataHref === fullhref) return tag;\n\t}\n};\nvar loadStylesheet = function(chunkId) {\n\treturn new Promise(function(resolve, reject) {\n\t\tvar href = __webpack_require__.miniCssF(chunkId);\n\t\tvar fullhref = __webpack_require__.p + href;\n\t\tif(findStylesheet(href, fullhref)) return resolve();\n\t\tcreateStylesheet(chunkId, fullhref, resolve, reject);\n\t});\n}\n// object to store loaded CSS chunks\nvar installedCssChunks = {\n\t826: 0\n};\n\n__webpack_require__.f.miniCss = function(chunkId, promises) {\n\tvar cssChunks = {\"876\":1};\n\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n\t\tpromises.push(installedCssChunks[chunkId] = loadStylesheet(chunkId).then(function() {\n\t\t\tinstalledCssChunks[chunkId] = 0;\n\t\t}, function(e) {\n\t\t\tdelete installedCssChunks[chunkId];\n\t\t\tthrow e;\n\t\t}));\n\t}\n};\n\n// no hmr","export function abortableEventListener<TCallbackFnResult,\n    TEvent,\n    TCallbackFn extends (this: THTMLElement, event: TEvent extends keyof HTMLElementEventMap ? HTMLElementEventMap[TEvent] : any) => TCallbackFnResult,\n    TAddEventListener extends (eventName: TEvent, listener: TCallbackFn) => void,\n    THTMLElement extends { addEventListener: TAddEventListener, removeEventListener: TAddEventListener }>(element: THTMLElement, event: TEvent, listenerFn: TCallbackFn, signal: AbortSignal): void {\n    element.addEventListener(event, listenerFn);\n    signal.addEventListener(\"abort\", () => {\n        element.removeEventListener(event, listenerFn);\n    });\n}","import { abortableEventListener } from \"../../abortable-event-listener\";\nimport { AppRouter } from \"../../app-router\";\nimport template from \"./ExplanationComponent.html\";\nimport \"./ExplanationComponent.scss\";\n\nexport class ExplanationComponent extends HTMLElement {\n    private abortController: AbortController;\n    private router: AppRouter;\n   \n    constructor() {\n        super();\n        this.innerHTML = template;\n        this.router = AppRouter.getInstance();\n    }\n\n    connectedCallback() {\n        this.abortController = new AbortController();\n        abortableEventListener(this.querySelector(\"a\"), \"click\", e => {\n            e.preventDefault();\n            this.router.router.navigate(\"\", \"wettma\");\n        }, this.abortController.signal);\n    }\n\n    disconnectedCallback() {\n        this.abortController.abort();\n    }\n}\n\ncustomElements.define(\"explanation-component\", ExplanationComponent);\n","// Module\nvar code = \"<div class=\\\"container\\\"> <section class=\\\"section\\\"> <nav class=\\\"link-section\\\"> <a href=\\\"\\\" id=\\\"back-link\\\">zurück zur Startseite</a> </nav> <h2>\\\"Wettma\\\" ich werd Tippmeister</h2> <p>Tippe gegen deine Freunde und Familie auf die Spiele der Europameisterschaft 2020 (2021).</p> <p> Und so funktionierts:<br/>In der App seht ihr auf einen Blick die kommenden Spiele und gleichzeitig die dazugehörigen Quoten. Ihr könnt auf Sieg einer der beiden Mannschaften oder auf ein Unentschieden (Gruppenphase) Tippen. Je nach Fortschritt des Turniers setzt ihr eine Punktezahl auf das Siegerteam (oder ein Unentschieden). </p> <p> Ist das Spiel das ihr Tippen wollt beispielsweise Italien - Spanien sieht man schnell und einfach die dazugehörigen Quoten. (z.B. Italien - 2,3 _ Unentschieden - 2,8 _ Spanien - 1,9). Ist das ein Gruppenspiel werden z.B. 2 Punkte gesetzt und ihr würden für einen richtigen Tipp auf Spanien </p> <p> 2 * 1,9 = 3,8 Punkte </p> <p> für die Rangliste erhalten. Die Quoten werden bis zu alle 15 Minuten aktualisiert und ihr behaltet die Quote bei der ihr euren Tipp abgegeben habt. </p> <p> Hat sich eure Meinung geändert ist das auch kein Problem - ihr gebt einen neuen Tipp ab - diesmal aber mit den aktualisierten Quoten. Tipps können bis 5 Minuten vor Anpfiff des Spiels abgegeben werden. Die Siegerin oder der Sieger ist am Schluss natürlich die Person mit den meisten Punkten auf der Rangliste. </p> <p> Je fortgeschrittener das Turnier desto höher der Einsatz. So bleibt nicht nur das Turnier spannend - auch beim Tippen wird der Punktegewinn immer höher. <table class=\\\"points-table\\\"> <thead> <tr> <td>Spielphase</td> <td>So viel Punkte ist ein Spiel wert</td> </tr> </thead> <tbody> <tr> <td>Gruppenphase</td> <td>2</td> </tr> <tr> <td>Achtelfinale</td> <td>4</td> </tr> <tr> <td>Viertelfinale</td> <td>5</td> </tr> <tr> <td>Halbfinale</td> <td>6</td> </tr> <tr> <td>Finale</td> <td>8</td> </tr> </tbody> </table> </p> </section> </div>\";\n// Exports\nexport default code;","export class ArrayToElementRenderer<T, E extends Element, K>{\n    private keyToElement: Map<K, E>;\n    private elementToKey: WeakMap<E, K>;\n    \n    constructor(private listElement: HTMLElement,\n        private keySelector: (x: T) => K,\n        private createElement: (x: T) => E) {\n        this.keyToElement = new Map<K, E>();\n        this.elementToKey = new WeakMap<E, K>();\n    }\n\n    update(list: T[], updateElement: (x: E, data: T) => void) {\n        let keyCache = new Map<T, K>();\n        let getKey = (d: T) => keyCache.get(d) || (() => {\n            let key = this.keySelector(d);\n            keyCache.set(d, key);\n            return key;\n        })();\n        for (let x of Array.from(this.listElement.children)) {\n            let el: E = <E>x;\n            let data = list.find(i => this.elementToKey.get(el) == getKey(i));\n            if (data) {\n                updateElement(<E>el, data);\n            }\n            else {\n                this.listElement.removeChild(el);\n            }\n        }\n        let before: Element = null;\n        let nextKeyToElement = new Map<K, E>();\n        for (let t of list) {\n            let key = getKey(t);\n            let childElement: E = this.keyToElement.get(key);\n            if (!childElement) {\n                childElement = this.createElement(t);\n                updateElement(childElement, t);\n                this.elementToKey.set(childElement, key);\n            }\n            nextKeyToElement.set(key, childElement);\n            if (null == before && childElement != this.listElement.firstElementChild) {\n                this.listElement.prepend(childElement);\n            }\n            else if (null != before && before.nextElementSibling != childElement) {\n                before.insertAdjacentElement(\"afterend\", childElement);\n            }\n            before = childElement;\n        }\n        this.keyToElement = nextKeyToElement;\n    }\n\n}","import { Action } from \"./requests/Action\";\nimport { State } from \"./state\";\n\ninterface Subscription<State> {\n    call(a: State): void;\n}\n\nexport class Store {\n    private static instance: Store = null;\n    private worker: Worker;\n    private subscriptions: Subscription<State>[];\n    private _state: State = null;\n\n    get state() {\n        return this._state;\n    }\n\n    static getInstance() {\n        if (null == this.instance) {\n            this.instance = new Store();\n        }\n        return this.instance;\n    }\n\n    constructor() {\n        this.subscriptions = [];\n        this.worker = new Worker(new URL(\"./worker\", import.meta.url));\n        this.worker.addEventListener(\"message\", ev => {\n            this._state = ev.data;\n            for (let s of this.subscriptions) {\n                try {\n                    s.call(this._state);\n                }\n                catch (err) {\n                    console.error(`Error while updating`, err);\n                }\n\n            }\n        });\n    }\n\n    subscribe(call: (a: State) => void, signal?: AbortSignal) {\n        let sub = { call };\n        this.subscriptions.push(sub);\n        if (signal) {\n            signal.addEventListener(\"abort\", () => {\n                this.subscriptions.splice(this.subscriptions.indexOf(sub), 1);\n            });\n        }\n    }\n\n    postAction(action: Action) {\n        this.worker.postMessage(action);\n    }\n}","import { abortableEventListener } from \"../../abortable-event-listener\";\nimport { Choice } from \"../../api/models\";\nimport template from \"./OddsButton.html\";\nimport \"./OddsButton.scss\";\n\nexport const ChoiceAttribute = \"choice\";\nexport const DisplayAttribute = \"display\";\n\nexport class OddsButton extends HTMLElement {\n    private abortController: AbortController;\n    private btn: HTMLButtonElement;\n\n    constructor() {\n        super();\n        this.innerHTML = template;\n        this.btn = this.querySelector(\"button\");\n    }\n\n    connectedCallback() {\n        this.abortController = new AbortController();\n        abortableEventListener(this.btn, \"click\", e => {\n            e.preventDefault();\n            this.dispatchEvent(new CustomEvent(\"oddsclicked\", { bubbles: true, detail: parseInt(this.getAttribute(ChoiceAttribute)) }));\n        }, this.abortController.signal);\n    }\n\n    disconnectedCallback() {\n        this.abortController.abort();\n    }\n\n    attributeChangedCallback() {\n        this.updateAttributes();\n    }\n\n    private updateAttributes() {\n        this.btn.innerText = this.getAttribute(DisplayAttribute);\n    }\n\n    static get observedAttributes() {\n        return [ChoiceAttribute, DisplayAttribute];\n    }\n}\n\ncustomElements.define(\"odds-button\", OddsButton);\n","// Module\nvar code = \"<button type=\\\"button\\\" class=\\\"odds-button\\\"/>\";\n// Exports\nexport default code;","import { Choice } from \"../../api/models\";\nimport { Action as Action } from \"./Action\";\nimport { ActionType as ActionType } from \"./ActionType\";\n\nexport class CreateBetAction implements Action {\n    constructor(public oddsId: number, public choice: Choice) { }\n    readonly type = ActionType.CreateBet;\n}\n\n","export interface Profile {\n    displayName: string;\n    userId: string;\n}\n\nexport interface Odds {\n    id: number;\n    gameId: number;\n    team1Odds: number;\n    team2Odds: number;\n    drawOdds: number | null;\n}\n\nexport interface GameResult {\n    team1Goals: number;\n    team2Goals: number;\n}\n\nexport interface Game {\n    id: number;\n    team1: string;\n    team2: string;\n    time: string;\n    result: GameResult;\n    myBet: MyBet;\n}\n\nexport interface MyBet {\n    odds: Odds;\n    choice: Choice;\n}\n\nexport interface UserBet {\n    choice: Choice;\n    userId: string;\n    displayName: string;\n}\n\nexport interface Bet {\n    id: number;\n    userId: string;\n    userDisplayName: string;\n    timePlaced: string;\n    choice: Choice;\n    odds: number;\n}\n\nexport enum Choice {\n    Team1 = 0,\n    Team2 = 1,\n    Draw = 2\n}\n\nexport interface ScoreboardEntry {\n    displayName: string;\n    userId: string;\n    points: number;\n}","import { AccessToken } from \"../AccessToken\";\nimport { ScoreboardEntry } from \"../models/ScoreboardEntry\";\nimport { UpcomingGame } from \"../models/UpcomingGame\";\nimport { FinishedGame } from \"../models/FinishedGame\";\nimport { GameBets } from \"../models/GameBets\";\n\nexport enum RequestState {\n    Unset,\n    InProgress,\n    Successful,\n    Failed\n}\n\nexport interface State {\n    goToLogin: boolean;\n    upcomingGames: UpcomingGame[];\n    finishedGames: FinishedGame[];\n    accessToken: AccessToken;\n    goToRegister: boolean;\n    displayName: string;\n    userId: string;\n    register: RequestState;\n    scoreboardRequest: RequestState;\n    scoreboard: ScoreboardEntry[];\n    setResultRequest: RequestState;\n    gameBets: { [gameId: number]: GameBets }\n}\n","import { Action as Action } from \"./Action\";\nimport { ActionType as ActionType } from \"./ActionType\";\n\n\nexport class ShowGameBets implements Action {\n    constructor(public gameId: number) { }\n    readonly type = ActionType.ShowGameBets;\n}","import { abortableEventListener } from \"../../abortable-event-listener\";\nimport { Choice } from \"../../api/models\";\nimport { ArrayToElementRenderer } from \"../../ArrayToElementRenderer\";\nimport { FinishedGame } from \"../../models/FinishedGame\";\nimport { GameBets, UserBet } from \"../../models/GameBets\";\nimport { UpcomingGame } from \"../../models/UpcomingGame\";\nimport { ShowGameBets } from \"../../state/requests/ShowGameBets\";\nimport { RequestState, State } from \"../../state/state\";\nimport { Store } from \"../../state/store\";\nimport template from \"./BetsDisplay.html\";\nimport \"./BetsDisplay.scss\";\n\nexport class BetsDisplay extends HTMLElement {\n    private expandLink: HTMLAnchorElement;\n    private abortController: AbortController;\n    private store: Store;\n    private showBets: boolean;\n    private game: UpcomingGame | FinishedGame;\n    private betsRenderer: ArrayToElementRenderer<UserBet, HTMLTableRowElement, string>;\n    private table: HTMLTableElement;\n    private loading: HTMLDivElement;\n    private tableBody: HTMLTableSectionElement;\n    private expandText: HTMLSpanElement;\n    private expandArrow: HTMLSpanElement;\n\n    constructor() {\n        super();\n        this.innerHTML = template;\n        this.expandLink = this.querySelector(`[data-ref=\"expand-link\"]`);\n        this.table = this.querySelector(\"table\");\n        this.loading = this.querySelector(`[data-ref=\"loading\"]`);\n        this.store = Store.getInstance();\n        this.tableBody = this.querySelector(\"tbody\");\n        this.expandText = this.querySelector(`[data-ref=\"expand-text\"]`);\n        this.expandArrow = this.querySelector(`[data-ref=\"expand-arrow\"]`);\n        this.betsRenderer = new ArrayToElementRenderer(this.tableBody,\n            g => g.userId,\n            g => {\n                let row = document.createElement(\"tr\");\n                let namecol = document.createElement(\"td\");\n                row.appendChild(namecol);\n                let choiceCol = document.createElement(\"td\");\n                row.appendChild(choiceCol);\n                return row;\n            });\n    }\n\n    connectedCallback() {\n        this.abortController = new AbortController();\n        abortableEventListener(this.expandLink, \"click\", ev => {\n            ev.preventDefault();\n            this.showBets = !this.showBets;\n            this.table.style.display = this.showBets ? \"\" : \"none\";\n            this.expandArrow.classList.toggle(\"rotate\", this.showBets);\n            if (this.showBets) {\n                this.store.postAction(new ShowGameBets(this.game.id));\n            }\n            this.expandText.innerText = !this.showBets ? \"Tipps von allen anzeigen\" : \"Tipps von allen verbergen\";\n        }, this.abortController.signal);\n        this.store.subscribe(s => {\n            this.updateBets(s);\n        }, this.abortController.signal);\n    }\n\n    disconnectedCallback() {\n        this.abortController.abort();\n    }\n\n    updateBets(s: State) {\n        let bets = s.gameBets[this.game.id];\n        this.loading.style.display = bets && bets.requestState == RequestState.InProgress ? \"flex\" : \"none\";\n        if (bets && bets.bets) {\n            this.betsRenderer.update(bets.bets, (e, d) => {\n                let nameCol: HTMLTableCellElement = <HTMLTableCellElement>e.children[0];\n                nameCol.innerText = d.displayName;\n                let choiceCol: HTMLTableCellElement = <HTMLTableCellElement>e.children[1];\n                switch (d.choice) {\n                    case Choice.Team1:\n                        choiceCol.innerText = this.game.team1;\n                        break;\n                    case Choice.Team2:\n                        choiceCol.innerText = this.game.team2;\n                        break;\n                    case Choice.Draw:\n                        choiceCol.innerText = \"Unentschieden\";\n                }\n            });\n        }\n    }\n\n    setGame(game: UpcomingGame | FinishedGame) {\n        this.game = game;\n        this.updateBets(this.store.state);\n    }\n}\n\ncustomElements.define(\"bets-display\", BetsDisplay);\n","// Module\nvar code = \"<a href=\\\"\\\" data-ref=\\\"expand-link\\\" class=\\\"expand-link\\\"> <span class=\\\"material-icons\\\" data-ref=\\\"expand-arrow\\\"> expand_more </span> <span class=\\\"expand-link__text\\\" data-ref=\\\"expand-text\\\"> Tipps von allen anzeigen </span> </a> <div data-ref=\\\"loading\\\" class=\\\"status-msg saving\\\"> <span class=\\\"material-icons\\\" title=\\\"Tipps werden geladen.\\\"> donut_large </span> Tipps werden geladen. </div> <table class=\\\"bets-table\\\" style=\\\"display:none\\\"> <thead> <tr> <td> Spieler/in </td> <td>Tipp</td> </tr> </thead> <tbody></tbody> </table>\";\n// Exports\nexport default code;","import { UpcomingGame } from \"../../models/UpcomingGame\";\nimport template from \"./UpcomingGameDisplay.html\";\nimport \"./UpcomingGameDisplay.scss\";\nimport \"../OddsButton/OddsButton\";\nimport { DisplayAttribute, OddsButton } from \"../OddsButton/OddsButton\";\nimport { abortableEventListener } from \"../../abortable-event-listener\";\nimport { Store } from \"../../state/store\";\nimport { CreateBetAction } from \"../../state/requests/CreateBetAction\";\nimport { Choice } from \"../../api/models\";\nimport \"../BetsDisplay/BetsDisplay\";\nimport { BetsDisplay } from \"../BetsDisplay/BetsDisplay\";\n\nlet i18nFormat = new Intl.DateTimeFormat([\"de-AT\"], { weekday: \"short\", day: \"2-digit\", month: \"2-digit\", hour: \"2-digit\", minute: \"2-digit\" });\n\nimport(\"./flags\");\n\nlet flags: { [s: string]: string } = {\n    \"Türkei\": \"tr\",\n    \"Italien\": \"it\",\n    \"Wales\": \"gb-wls\",\n    \"Schweiz\": \"ch\",\n    \"Schweden\": \"se\",\n    \"Finnland\": \"fi\",\n    \"Deutschland\": \"de\",\n    \"England\": \"gb-eng\",\n    \"Dänemark\": \"dk\",\n    \"Russland\": \"ru\",\n    \"Österreich\": \"at\",\n    \"Belgien\": \"be\",\n    \"Kroatien\": \"hr\",\n    \"Nordmazedonien\": \"mk\",\n    \"Niederlande\": \"nl\",\n    \"Ukraine\": \"ua\",\n    \"Spanien\": \"es\",\n    \"Schottland\": \"gb-sct\",\n    \"Tschechien\": \"cz\",\n    \"Polen\": \"pl\",\n    \"Slowakei\": \"sk\",\n    \"Portugal\": \"pt\",\n    \"Ungarn\": \"hu\",\n    \"Frankreich\": \"fr\"\n};\n\nexport class UpcomingGameDisplay extends HTMLElement {\n    private team1Label: HTMLSpanElement;\n    private team2Label: HTMLSpanElement;\n    private team1Odds: OddsButton;\n    private drawOdds: OddsButton;\n    private team2Odds: OddsButton;\n    private oddsForm: HTMLFormElement;\n    private timeDisplay: HTMLSpanElement;\n    private abortController: AbortController;\n    private game: UpcomingGame;\n    private store: Store;\n    private myBetContainer: HTMLDivElement;\n    private myBetTeam: HTMLSpanElement;\n    private myBetOdds: HTMLSpanElement;\n    private saving: HTMLDivElement;\n    private oddsChangedError: HTMLDivElement;\n    private gameStartedError: HTMLDivElement;\n    private unknownError: HTMLDivElement;\n    private team2Flag: HTMLSpanElement;\n    private team1Flag: HTMLSpanElement;\n    private betsDisplay: BetsDisplay;\n\n    constructor() {\n        super();\n        this.innerHTML = template;\n        this.team1Label = this.querySelector(`[data-ref=\"team1\"]`);\n        this.team2Label = this.querySelector(`[data-ref=\"team2\"]`);\n        this.team1Odds = this.querySelector(`[data-ref=\"team1-odds\"]`);\n        this.drawOdds = this.querySelector(`[data-ref=\"draw-odds\"]`);\n        this.team2Odds = this.querySelector(`[data-ref=\"team2-odds\"]`);\n        this.oddsForm = this.querySelector(`[data-ref=\"odds-form\"]`);\n        this.timeDisplay = this.querySelector(`[data-ref=\"time\"]`);\n        this.myBetContainer = this.querySelector(`[data-ref=\"my-bet\"]`);\n        this.myBetTeam = this.querySelector(`[data-ref=\"my-bet-team\"]`);\n        this.myBetOdds = this.querySelector(`[data-ref=\"my-bet-odds\"]`);\n        this.saving = this.querySelector(`[data-ref=\"saving\"]`);\n        this.oddsChangedError = this.querySelector(`[data-ref=\"odds-changed-error\"]`);\n        this.gameStartedError = this.querySelector(`[data-ref=\"game-started-error\"]`);\n        this.unknownError = this.querySelector(`[data-ref=\"save-error\"]`)\n        this.team1Flag = this.querySelector(`[data-ref=\"team1-flag\"]`);\n        this.team2Flag = this.querySelector(`[data-ref=\"team2-flag\"]`);\n        this.store = Store.getInstance();\n    }\n\n    connectedCallback() {\n        this.abortController = new AbortController();\n        abortableEventListener(this.oddsForm, \"oddsclicked\", (ev: CustomEvent) => {\n            this.store.postAction(new CreateBetAction(this.game.odds.id, ev.detail));\n        }, this.abortController.signal);\n    }\n\n    disconnectedCallback() {\n        this.abortController.abort();\n    }\n\n    setGame(game: UpcomingGame) {\n        this.game = game;\n        this.team1Label.innerText = game.team1;\n        this.team2Label.innerText = game.team2;\n        this.timeDisplay.innerText = i18nFormat.format(game.time);\n        this.team1Flag.className = `flag-icon flag-icon-${flags[game.team1]}`;\n        this.team2Flag.className = `flag-icon flag-icon-${flags[game.team2]}`;\n        this.team1Odds.style.visibility = game.odds ? \"visible\" : \"hidden\";\n        this.drawOdds.style.visibility = game.odds ? \"visible\" : \"hidden\";\n        this.team2Odds.style.visibility = game.odds ? \"visible\" : \"hidden\";\n        if (game.odds) {\n            this.team1Odds.setAttribute(DisplayAttribute, `${game.odds.team1.toFixed(2)}`);\n            this.drawOdds.setAttribute(DisplayAttribute, `${game.odds.draw.toFixed(2)}`);\n            this.team2Odds.setAttribute(DisplayAttribute, `${game.odds.team2.toFixed(2)}`);\n        }\n        this.myBetContainer.style.display = game.myBet && !game.saving ? \"flex\" : \"none\";\n        if (game.myBet) {\n            this.myBetTeam.innerText = game.myBet.choice == Choice.Team1 ? game.team1 : game.myBet.choice == Choice.Team2 ? game.team2 : \"Unentschieden\";\n            this.myBetOdds.innerText = `${game.myBet.choice == Choice.Team1 ? game.myBet.odds.team1 : game.myBet.choice == Choice.Team2 ? game.myBet.odds.team2 : game.myBet.odds.draw}`;\n\n        }\n        this.saving.style.display = game.saving ? \"flex\" : \"none\";\n        this.oddsChangedError.style.display = game.saveError?.oddsChanged ? \"flex\" : \"none\";\n        this.gameStartedError.style.display = game.saveError?.gameStarted ? \"flex\" : \"none\";\n        this.unknownError.style.display = game.saveError?.unknown ? \"flex\" : \"none\";\n        if (+game.time < +new Date()) {\n            if (!this.betsDisplay) {\n                this.betsDisplay = new BetsDisplay();\n                this.appendChild(this.betsDisplay);\n            }\n        } else if (this.betsDisplay) {\n            this.removeChild(this.betsDisplay);\n            this.betsDisplay = null;\n        }\n        if (this.betsDisplay) {\n            this.betsDisplay.setGame(game);\n        }\n    }\n}\n\ncustomElements.define(\"upcoming-game-display\", UpcomingGameDisplay);\n","// Module\nvar code = \"<form data-ref=\\\"odds-form\\\" class=\\\"odds-form\\\"> <h3 class=\\\"team1\\\"> <span class=\\\"flag-icon flag-icon-tr\\\" data-ref=\\\"team1-flag\\\"></span> <span data-ref=\\\"team1\\\"></span> </h3> <h3 class=\\\"team2\\\"> <span class=\\\"flag-icon flag-icon-it\\\" data-ref=\\\"team2-flag\\\"></span> <span data-ref=\\\"team2\\\"></span> </h3> <span data-ref=\\\"time\\\" class=\\\"time\\\"></span> <odds-button class=\\\"choice-team1\\\" choice=\\\"0\\\" data-ref=\\\"team1-odds\\\"></odds-button> <odds-button class=\\\"choice-draw\\\" choice=\\\"2\\\" data-ref=\\\"draw-odds\\\"></odds-button> <odds-button class=\\\"choice-team2\\\" choice=\\\"1\\\" data-ref=\\\"team2-odds\\\"></odds-button> </form> <div data-ref=\\\"my-bet\\\" class=\\\"status-msg my-bet\\\"> <span class=\\\"material-icons\\\" title=\\\"Tipp abgegeben\\\"> done </span> <span> Dein Tipp <strong> <span data-ref=\\\"my-bet-team\\\"></span> </strong> für <strong> <span data-ref=\\\"my-bet-odds\\\"></span></strong>. </span> </div> <div data-ref=\\\"saving\\\" class=\\\"status-msg saving\\\"> <span class=\\\"material-icons\\\" title=\\\"Tipp wird gepeichert.\\\"> donut_large </span> Dein Tipp wird gespeichert. </div> <div data-ref=\\\"odds-changed-error\\\" class=\\\"status-msg warning\\\"> <span class=\\\"material-icons\\\" title=\\\"Tipp nicht gespeichert: Quoten geändert\\\"> warning </span> Dein Tipp wurde nicht gespeichert, weil sich die Quoten geändert haben. </div> <div data-ref=\\\"game-started-error\\\" class=\\\"status-msg error\\\"> <span class=\\\"material-icons\\\" title=\\\"Spiel hat bereits begonnen\\\"> error </span> Dein Tipp wurde nicht gespeichert, weil das Spiel bereits begonnen hat. </div> <div data-ref=\\\"save-error\\\" class=\\\"status-msg error\\\"> <span class=\\\"material-icons\\\" title=\\\"Tipp konnte nicht gespeichert werden\\\"> error </span> Beim Speichern ist ein Fehler aufgetreten. </div>\";\n// Exports\nexport default code;","import { UpcomingGame } from \"../../models/UpcomingGame\";\nimport { FinishedGame } from \"../../models/FinishedGame\";\nimport template from \"./FinishedGameDisplay.html\";\nimport \"./FinishedGameDisplay.scss\";\nimport \"../OddsButton/OddsButton\";\nimport { abortableEventListener } from \"../../abortable-event-listener\";\nimport { Store } from \"../../state/store\";\nimport { CreateBetAction } from \"../../state/requests/CreateBetAction\";\nimport { Choice } from \"../../api/models\";\n\nlet i18nFormat = new Intl.DateTimeFormat([\"de-AT\"], { weekday: \"short\", day: \"2-digit\", month: \"2-digit\", hour: \"2-digit\", minute: \"2-digit\" });\n\nlet flags: { [s: string]: string } = {\n    \"Türkei\": \"tr\",\n    \"Italien\": \"it\",\n    \"Wales\": \"gb-wls\",\n    \"Schweiz\": \"ch\",\n    \"Schweden\": \"se\",\n    \"Finnland\": \"fi\",\n    \"Deutschland\": \"de\",\n    \"England\": \"gb-eng\",\n    \"Dänemark\": \"dk\",\n    \"Russland\": \"ru\",\n    \"Österreich\": \"at\",\n    \"Belgien\": \"be\",\n    \"Kroatien\": \"hr\",\n    \"Nordmazedonien\": \"mk\",\n    \"Niederlande\": \"nl\",\n    \"Ukraine\": \"ua\",\n    \"Spanien\": \"es\",\n    \"Schottland\": \"gb-sct\",\n    \"Tschechien\": \"cz\",\n    \"Polen\": \"pl\",\n    \"Slowakei\": \"sk\",\n    \"Portugal\": \"pt\",\n    \"Ungarn\": \"hu\",\n    \"Frankreich\": \"fr\"\n};\n\nexport class FinishedGameDisplay extends HTMLElement {\n    private team1Label: HTMLSpanElement;\n    private team2Label: HTMLSpanElement;\n    private timeDisplay: HTMLSpanElement;\n    private abortController: AbortController;\n    private game: FinishedGame;\n    private store: Store;\n    private team2Flag: HTMLSpanElement;\n    private team1Flag: HTMLSpanElement;\n    private goals1: HTMLHeadingElement;\n    private goals2: HTMLHeadingElement;\n    private correctBet: HTMLDivElement;\n    private wrongBet: HTMLDivElement;\n\n    constructor() {\n        super();\n        this.innerHTML = template;\n        this.team1Label = this.querySelector(`[data-ref=\"team1\"]`);\n        this.team2Label = this.querySelector(`[data-ref=\"team2\"]`);\n        this.timeDisplay = this.querySelector(`[data-ref=\"time\"]`);\n        // this.myBetContainer = this.querySelector(`[data-ref=\"my-bet\"]`);\n        // this.myBetTeam = this.querySelector(`[data-ref=\"my-bet-team\"]`);\n        // this.myBetOdds = this.querySelector(`[data-ref=\"my-bet-odds\"]`);\n        this.correctBet = this.querySelector(`[data-ref=\"correct-bet\"]`);\n        this.wrongBet = this.querySelector(`[data-ref=\"wrong-bet\"]`);\n        this.team1Flag = this.querySelector(`[data-ref=\"team1-flag\"]`);\n        this.team2Flag = this.querySelector(`[data-ref=\"team2-flag\"]`);\n        this.goals1 = this.querySelector(`[data-ref=\"goals1\"]`);\n        this.goals2 = this.querySelector(`[data-ref=\"goals2\"]`);\n        this.store = Store.getInstance();\n    }\n\n    connectedCallback() {\n        this.abortController = new AbortController();\n    }\n\n    disconnectedCallback() {\n        this.abortController.abort();\n    }\n\n    setGame(game: FinishedGame) {\n        this.game = game;\n        this.team1Label.innerText = game.team1;\n        this.team2Label.innerText = game.team2;\n        this.timeDisplay.innerText = i18nFormat.format(game.time);\n        this.team1Flag.className = `flag-icon flag-icon-${flags[game.team1]}`;\n        this.team2Flag.className = `flag-icon flag-icon-${flags[game.team2]}`;\n        this.goals1.innerText = game.result.team1Goals + \"\";\n        this.goals2.innerText = game.result.team2Goals + \"\";\n\n        let correct = this.game.myBet &&\n            ((this.game.myBet.choice == Choice.Team1 && this.game.result.team1Goals > this.game.result.team2Goals) ||\n            (this.game.myBet.choice == Choice.Team2 && this.game.result.team1Goals < this.game.result.team2Goals) ||\n            (this.game.myBet.choice == Choice.Draw && this.game.result.team1Goals == this.game.result.team2Goals));\n        let wrong = this.game.myBet && !correct;\n\n        this.correctBet.style.display = correct ? \"flex\" : \"none\";\n        this.wrongBet.style.display = wrong ? \"flex\" : \"none\";\n\n        if (this.game.myBet) {\n            for (let e of this.querySelectorAll(`[data-ref=\"my-bet-team\"]`)) {\n                let el: HTMLSpanElement = <HTMLSpanElement>e;\n                el.innerText = game.myBet.choice == Choice.Team1 ? game.team1 : game.myBet.choice == Choice.Team2 ? game.team2 : \"Unentschieden\"\n            }\n            for (let e of this.querySelectorAll(`[data-ref=\"my-bet-odds\"]`)) {\n                let el: HTMLSpanElement = <HTMLSpanElement>e;\n                el.innerText = `${game.myBet.choice == Choice.Team1 ? game.myBet.odds.team1 : game.myBet.choice == Choice.Team2 ? game.myBet.odds.team2 : game.myBet.odds.draw}`;\n            }\n        }\n    }\n}\n\ncustomElements.define(\"finished-game-display\", FinishedGameDisplay);\n","// Module\nvar code = \"<div class=\\\"finished-game\\\"> <h3 class=\\\"team1\\\"> <span class=\\\"flag-icon flag-icon-tr\\\" data-ref=\\\"team1-flag\\\"></span> <span data-ref=\\\"team1\\\"></span> </h3> <h3 class=\\\"team2\\\"> <span class=\\\"flag-icon flag-icon-it\\\" data-ref=\\\"team2-flag\\\"></span> <span data-ref=\\\"team2\\\"></span> </h3> <span data-ref=\\\"time\\\" class=\\\"time\\\"></span> <h3 class=\\\"goals1\\\" data-ref=\\\"goals1\\\"></h3> <h3 class=\\\"goals2\\\" data-ref=\\\"goals2\\\"></h3> </div> <div data-ref=\\\"correct-bet\\\" class=\\\"status-msg correct-bet\\\"> <span class=\\\"material-icons\\\" title=\\\"Tipp abgegeben\\\"> done </span> <span> Dein Tipp <strong> <span data-ref=\\\"my-bet-team\\\"></span> </strong> für <strong> <span data-ref=\\\"my-bet-odds\\\"></span></strong> war richtig. </span> </div> <div data-ref=\\\"wrong-bet\\\" class=\\\"status-msg wrong-bet\\\"> <span class=\\\"material-icons\\\" title=\\\"Tipp abgegeben\\\"> close </span> <span> Dein Tipp <strong> <span data-ref=\\\"my-bet-team\\\"></span> </strong> für <strong> <span data-ref=\\\"my-bet-odds\\\"></span></strong> war leider nicht richtig. </span> </div>\";\n// Exports\nexport default code;","import { abortableEventListener } from \"../../abortable-event-listener\";\nimport { AppRouter } from \"../../app-router\";\nimport { ArrayToElementRenderer } from \"../../ArrayToElementRenderer\";\nimport { UpcomingGame } from \"../../models/UpcomingGame\";\nimport { FinishedGame } from \"../../models/FinishedGame\";\nimport { State } from \"../../state/state\";\nimport { Store } from \"../../state/store\";\nimport { UpcomingGameDisplay } from \"../UpcomingGameDisplay/UpcomingGameDisplay\";\nimport { FinishedGameDisplay } from \"../FinishedGameDisplay/FinishedGameDisplay\";\nimport template from \"./HomeComponent.html\";\nimport \"./HomeComponent.scss\";\n\nexport class HomeComponent extends HTMLElement {\n    private store: Store;\n    private abortController: AbortController;\n    private upcomingGamesList: HTMLOListElement;\n    private upcomingGamesRenderer: ArrayToElementRenderer<UpcomingGame, HTMLLIElement, number>;\n    private finishedGamesRenderer: ArrayToElementRenderer<FinishedGame, HTMLLIElement, number>;\n    private router: AppRouter;\n    private finishedGamesList: HTMLOListElement;\n\n    constructor() {\n        super();\n        this.innerHTML = template;\n        this.store = Store.getInstance();\n        this.router = AppRouter.getInstance();\n        this.upcomingGamesList = this.querySelector(\"#upcoming-games\");\n        this.finishedGamesList = this.querySelector(\"#finished-games\");\n        this.upcomingGamesRenderer = new ArrayToElementRenderer(this.upcomingGamesList,\n            g => g.id,\n            g => {\n                let li = document.createElement(\"li\");\n                li.appendChild(new UpcomingGameDisplay());\n                return li;\n            });\n        this.finishedGamesRenderer = new ArrayToElementRenderer(this.finishedGamesList,\n            g => g.id,\n            g => {\n                let li = document.createElement(\"li\");\n                li.appendChild(new FinishedGameDisplay());\n                return li;\n            });\n    }\n\n    connectedCallback() {\n        this.abortController = new AbortController();\n        this.store.subscribe(s => this.updateState(s), this.abortController.signal);\n        this.updateState(this.store.state);\n        for (let link of this.querySelectorAll(`[data-ref=\"spa-link\"]`)) {\n            abortableEventListener(link, \"click\", e => {\n                e.preventDefault();\n                this.router.router.navigate(link.getAttribute(\"href\"), link.getAttribute(\"title\"));\n            }, this.abortController.signal);\n        }\n    }\n\n    updateState(s: State) {\n        if (null == s) {\n            return;\n        }\n        this.upcomingGamesRenderer.update(s.upcomingGames, (li, g) => {\n            let e: UpcomingGameDisplay = <UpcomingGameDisplay>li.children[0];\n            e.setGame(g);\n        });\n        this.finishedGamesRenderer.update(s.finishedGames, (li, g) => {\n            let e: FinishedGameDisplay = <FinishedGameDisplay>li.children[0];\n            e.setGame(g);\n        });\n    }\n\n    disconnectedCallback() {\n        this.abortController.abort();\n    }\n}\n\ncustomElements.define(\"home-component\", HomeComponent);\n","// Module\nvar code = \"<div class=\\\"container\\\"> <section class=\\\"section\\\"> <nav class=\\\"link-section\\\"> <a href=\\\"#finished-gamesh\\\">Vergangene Spiele</a> <a href=\\\"scoreboard\\\" title=\\\"Rangliste - wettma\\\" id=\\\"scoreboard-link\\\" data-ref=\\\"spa-link\\\">Rangliste</a> <a href=\\\"explanation\\\" title=\\\"Spielanleitung - wettma\\\" id=\\\"explanation-link\\\" data-ref=\\\"spa-link\\\">Spielanleitung</a> </nav> <h2> Nächste Spiele </h2> <ol id=\\\"upcoming-games\\\" class=\\\"gameslist\\\"> </ol> <h2 id=\\\"finished-gamesh\\\"> Vergangene Spiele </h2> <ol id=\\\"finished-games\\\" class=\\\"gameslist\\\"> </ol> </section> </div>\";\n// Exports\nexport default code;","import template from \"./LoginForm.html\";\nimport \"./LoginForm.scss\";\n\nfunction nonce(length: number) {\n    var text = \"\";\n    var possible = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n    for (var i = 0; i < length; i++) {\n        text += possible.charAt(Math.floor(Math.random() * possible.length));\n    }\n    return text;\n}\n\nexport class LoginForm extends HTMLElement {\n    private nonceInput: HTMLInputElement;\n    private redirectUriInput: HTMLInputElement;\n    private loginHintInput: HTMLInputElement;\n    private loginForm: HTMLFormElement;\n    constructor() {\n        super();\n        this.innerHTML = template;\n    }\n\n    connectedCallback() {\n        this.nonceInput = this.querySelector(\"#nonce\");\n        this.redirectUriInput = this.querySelector(\"#redirect_uri\");\n        this.redirectUriInput.value = window.location.href.replace(/\\/(login|explanation|scoreboard|setresult)|(\\?.+)|(\\#.+)/g, \"\").replace(/(\\/$)/g, \"\");\n        this.loginHintInput = this.querySelector(\"#login_hint\");\n        this.loginForm = this.querySelector(\"#login_form\");\n        this.nonceInput.value = nonce(8);\n    }\n\n    disconnectedCallback() {\n\n    }\n\n    setLoginHint(hint: string) {\n        this.loginHintInput.value = hint;\n    }\n\n    submit() {\n        this.loginForm.submit();\n    }\n}\n\ncustomElements.define(\"login-form\", LoginForm);\n","// Module\nvar code = \"<form method=\\\"GET\\\" action=\\\"https://accounts.google.com/o/oauth2/v2/auth\\\" id=\\\"login_form\\\"> <input type=\\\"hidden\\\" name=\\\"client_id\\\" id=\\\"client_id\\\" value=\\\"439677686972-2c42enpqguk403j6nsb225e509n60ul9.apps.googleusercontent.com\\\"> <input type=\\\"hidden\\\" name=\\\"redirect_uri\\\" id=\\\"redirect_uri\\\"> <input type=\\\"hidden\\\" name=\\\"response_type\\\" value=\\\"token id_token\\\"> <input type=\\\"hidden\\\" name=\\\"login_hint\\\" id=\\\"login_hint\\\"> <input type=\\\"hidden\\\" name=\\\"nonce\\\" id=\\\"nonce\\\"> <input type=\\\"hidden\\\" name=\\\"scope\\\" value=\\\"openid\\\"> <button type=\\\"submit\\\">Login über Google</button> </form>\";\n// Exports\nexport default code;","import template from \"./LoginComponent.html\";\nimport \"./LoginComponent.scss\";\nimport \"../LoginForm/LoginForm\";\nimport { LoginForm } from \"../LoginForm/LoginForm\";\n\n\nexport class LoginComponent extends HTMLElement {\n    private loginForm: LoginForm;\n\n    constructor() {\n        super();\n        this.innerHTML = template;\n        this.loginForm = this.querySelector(\"login-form\");\n    }\n\n    connectedCallback() {\n        if (\"FederatedCredential\" in window) {\n            navigator.credentials.get({\n                federated: {\n                    providers: [\n                        \"https://google.wettma.kesal.at\"\n                    ]\n                },\n                mediation: \"optional\"\n            }).then(c => {\n                if (c && c.type == \"federated\") {\n                    this.loginForm.setLoginHint(c.id);\n                    this.loginForm.submit();\n                }\n            });\n        }\n    }\n\n    disconnectedCallback() {\n\n    }\n}\n\ncustomElements.define(\"login-component\", LoginComponent);","// Module\nvar code = \"<div class=\\\"container\\\"> <section class=\\\"section\\\"> <h2> Login </h2> <p>Du musst dich zuerst anmelden bevor du fortfahren kannst.</p> <login-form></login-form> </section> </div>\";\n// Exports\nexport default code;","import { Action as Action } from \"./Action\";\nimport { ActionType as ActionType } from \"./ActionType\";\n\nexport class RegisterAction implements Action {\n    constructor(public displayName: string) { }\n    readonly type = ActionType.Register;\n}\n\n","import { abortableEventListener } from \"../../abortable-event-listener\";\nimport { AppRouter } from \"../../app-router\";\nimport { RegisterAction } from \"../../state/requests/RegisterAction\";\nimport { RequestState, State } from \"../../state/state\";\nimport { Store } from \"../../state/store\";\nimport template from \"./RegisterComponent.html\";\nimport \"./RegisterComponent.scss\";\n\nexport class RegisterComponent extends HTMLElement {\n    private form: HTMLFormElement;\n    private abortController: AbortController;\n    private store: Store;\n    private registerFailed: HTMLSpanElement;\n    private router: AppRouter;\n\n    constructor() {\n        super();\n        this.innerHTML = template;\n        this.form = this.querySelector(\"form\");\n        this.registerFailed = this.querySelector(\"#register-failed\");\n        this.store = Store.getInstance();\n        this.router = AppRouter.getInstance();\n    }\n\n    connectedCallback() {\n        this.abortController = new AbortController();\n        abortableEventListener(this.form, \"submit\", ev => this.onFormSubmit(ev), this.abortController.signal);\n        this.store.subscribe(s => this.updateState(s), this.abortController.signal);\n        this.updateState(this.store.state);\n    }\n\n    updateState(s: State) {\n        if (null == s) {\n            return;\n        }\n        if (s.register == RequestState.Successful) {\n            this.router.router.navigate(\"\", \"wettma\", true);\n        }\n        this.registerFailed.style.display = s.register == RequestState.Failed ? \"inline\" : \"none\";\n    }\n\n    onFormSubmit(ev: Event) {\n        ev.preventDefault();\n        let name: string = <string>(new FormData(this.form).get(\"display-name\"));\n        this.store.postAction(new RegisterAction(name));\n    }\n\n    disconnectedCallback() {\n        this.abortController.abort();\n    }\n}\n\ncustomElements.define(\"register-component\", RegisterComponent);\n","// Module\nvar code = \"<div class=\\\"container\\\"> <section class=\\\"section\\\"> <h2> Anzeigenamen </h2> <p>Lege einen Anzeigenamen fest. Dieser wird <strong>für alle ersichtlich</strong> in der Rangliste angezeigt.</p> <form> <label for=\\\"display-name\\\">Anzeigename</label> <input type=\\\"text\\\" id=\\\"display-name\\\" name=\\\"display-name\\\" maxlength=\\\"15\\\" required=\\\"required\\\"> <button type=\\\"submit\\\">Speichern</button> </form> <span style=\\\"display:none\\\" id=\\\"register-failed\\\">Registrierung fehlgeschlagen</span> </section> </div>\";\n// Exports\nexport default code;","import { Action as Action } from \"./Action\";\nimport { ActionType as ActionType } from \"./ActionType\";\n\n\nexport class UpdateScoreboardAction implements Action {\n    constructor() { }\n    readonly type = ActionType.UpdateScoreboard;\n}\n","import { abortableEventListener } from \"../../abortable-event-listener\";\nimport { AppRouter } from \"../../app-router\";\nimport { ArrayToElementRenderer } from \"../../ArrayToElementRenderer\";\nimport { ScoreboardEntry } from \"../../models/ScoreboardEntry\";\nimport { UpdateScoreboardAction } from \"../../state/requests/UpdateScoreboardAction\";\nimport { RequestState } from \"../../state/state\";\nimport { Store } from \"../../state/store\";\nimport template from \"./ScoreboardComponent.html\";\nimport \"./ScoreboardComponent.scss\";\n\nexport class ScoreboardComponent extends HTMLElement {\n    private store: Store;\n    private abortController: AbortController;\n    private router: AppRouter;\n    private scoreboardRenderer: ArrayToElementRenderer<ScoreboardEntry, HTMLTableRowElement, string>;\n    private tableBody: HTMLTableSectionElement;\n    private scoreboardLoadError: HTMLDivElement;\n\n    constructor() {\n        super();\n        this.innerHTML = template;\n        this.store = Store.getInstance();\n        this.router = AppRouter.getInstance();\n        this.tableBody = this.querySelector(\"tbody\");\n        this.scoreboardLoadError = this.querySelector(\"#scoreboard-load-error\");\n        this.scoreboardRenderer = new ArrayToElementRenderer(this.tableBody,\n            g => g.userId,\n            g => {\n                let row = document.createElement(\"tr\");\n                let namecol = document.createElement(\"td\");\n                row.appendChild(namecol);\n                let pointscol = document.createElement(\"td\");\n\n                row.appendChild(pointscol);\n                return row;\n            });\n    }\n\n    connectedCallback() {\n        this.abortController = new AbortController();\n        this.store.postAction(new UpdateScoreboardAction());\n        this.store.subscribe(s => {\n            this.scoreboardRenderer.update(s.scoreboard, (e, d) => {\n                let nameCol: HTMLTableCellElement = <HTMLTableCellElement>e.children[0];\n                nameCol.innerText = d.displayName;\n                let pointsCol: HTMLTableCellElement = <HTMLTableCellElement>e.children[1];\n                pointsCol.innerText = `${d.points.toFixed(2)}`;\n            });\n            this.scoreboardLoadError.style.display = s.scoreboardRequest == RequestState.Failed ? \"flex\" : \"none\";\n        }, this.abortController.signal);\n        abortableEventListener(this.querySelector(\"a\"), \"click\", e => {\n            e.preventDefault();\n            this.router.router.navigate(\"\", \"wettma\");\n        }, this.abortController.signal);\n\n    }\n\n    disconnectedCallback() {\n        this.abortController.abort();\n    }\n}\n\ncustomElements.define(\"scoreboard-component\", ScoreboardComponent);\n","// Module\nvar code = \"<div class=\\\"container\\\"> <section class=\\\"section\\\"> <nav class=\\\"link-section\\\"> <a href=\\\"\\\" id=\\\"back-link\\\">zurück zur Startseite</a> </nav> <h2> Rangliste </h2> <div id=\\\"scoreboard-load-error\\\" class=\\\"status-msg error\\\" style=\\\"display:none\\\"> <span class=\\\"material-icons\\\" title=\\\"Tipp konnte nicht gespeichert werden\\\"> error </span> Rangliste konnte nicht geladen werden. </div> <table class=\\\"scoreboard-table\\\"> <thead> <tr> <td>Spieler/in</td> <td>Punkte</td> </tr> </thead> <tbody> </tbody> </table> </section> </div>\";\n// Exports\nexport default code;","import { Action as Action } from \"./Action\";\nimport { ActionType as ActionType } from \"./ActionType\";\n\n\nexport class SetResultAction implements Action {\n    constructor(public gameId: number, public team1Goals: number, public team2Goals: number) { }\n    readonly type = ActionType.SetResult;\n}\n","import { abortableEventListener } from \"../../abortable-event-listener\";\nimport { ArrayToElementRenderer } from \"../../ArrayToElementRenderer\";\nimport { UpcomingGame } from \"../../models/UpcomingGame\";\nimport { SetResultAction } from \"../../state/requests/SetResultAction\";\nimport { RequestState, State } from \"../../state/state\";\nimport { Store } from \"../../state/store\";\nimport template from \"./SetResultComponent.html\";\nimport \"./SetResultComponent.scss\";\n\nlet i18nFormat = new Intl.DateTimeFormat([\"de-AT\"], { weekday: \"short\", day: \"2-digit\", month: \"2-digit\", hour: \"2-digit\", minute: \"2-digit\" });\n\nexport class SetResultComponent extends HTMLElement {\n    private store: Store;\n    private abortController: AbortController;\n    private gamesSelectRenderer: ArrayToElementRenderer<UpcomingGame, HTMLOptionElement, number>;\n    private saveFailed: HTMLSpanElement;\n    private saveSuccess: HTMLSpanElement;\n\n    constructor() {\n        super();\n        this.innerHTML = template;\n        this.store = Store.getInstance();\n        this.gamesSelectRenderer = new ArrayToElementRenderer<UpcomingGame, HTMLOptionElement, number>(this.querySelector(\"#game\"),\n            n => n.id, () => document.createElement(\"option\"));\n        this.saveFailed = this.querySelector(\"#save-failed\");\n        this.saveSuccess = this.querySelector(\"#save-successful\");\n    }\n\n    connectedCallback() {\n        this.abortController = new AbortController();\n        this.store.subscribe(s => this.updateState(s), this.abortController.signal);\n        this.updateState(this.store.state);\n        abortableEventListener(this.querySelector(\"form\"), \"submit\", ev => this.onFormSubmit(ev), this.abortController.signal);\n    }\n\n    onFormSubmit(ev: Event) {\n        ev.preventDefault();\n        let formData = new FormData(this.querySelector(\"form\"));\n        this.store.postAction(new SetResultAction(parseInt(<string>formData.get(\"game\")), parseInt(<string>formData.get(\"team1-goals\")), parseInt(<string>formData.get(\"team2-goals\"))));\n    }\n\n    private updateState(s: State) {\n        if (null != s) {\n            this.gamesSelectRenderer.update(s.upcomingGames, (e, d) => {\n                e.value = `${d.id}`;\n                e.innerText = `${d.team1} - ${d.team2} ${i18nFormat.format(d.time)}`;\n            });\n            this.saveFailed.style.display = s.setResultRequest == RequestState.Failed ? \"flex\" : \"none\";\n            this.saveSuccess.style.display = s.setResultRequest == RequestState.Successful ? \"flex\" : \"none\";\n        }\n    }\n\n    disconnectedCallback() {\n        this.abortController.abort();\n    }\n}\n\ncustomElements.define(\"set-result-component\", SetResultComponent);\n","// Module\nvar code = \"<div class=\\\"container\\\"> <section class=\\\"section\\\"> <h2> Ergebnis eintragen </h2> <form> <div> <label for=\\\"game\\\">Spiel</label> <select id=\\\"game\\\" name=\\\"game\\\" required=\\\"required\\\"></select> </div> <div> <label for=\\\"team1-goals\\\">Team1 Tore</label> <input type=\\\"number\\\" id=\\\"team1-goals\\\" name=\\\"team1-goals\\\" min=\\\"0\\\" required=\\\"required\\\"> </div> <div> <label for=\\\"team2-goals\\\">Team2 Tore</label> <input type=\\\"number\\\" id=\\\"team2-goals\\\" name=\\\"team2-goals\\\" min=\\\"0\\\" required=\\\"required\\\"> </div> <button type=\\\"submit\\\">Speichern</button> </form> <span style=\\\"display:none\\\" id=\\\"save-failed\\\">Speichern fehlgeschlagen</span> <span style=\\\"display:none\\\" id=\\\"save-successful\\\">Speichern erfolgreich</span> </section> </div>\";\n// Exports\nexport default code;","import { ContainerRouteRenderer, Router } from \"route-it\";\nimport { AsyncRouteResolver } from \"route-it/dist/router\";\nimport { ExplanationComponent } from \"./components/ExplanationComponent/ExplanationComponent\";\nimport { HomeComponent } from \"./components/HomeComponent/HomeComponent\";\nimport { LoginComponent } from \"./components/LoginComponent/LoginComponent\";\nimport { RegisterComponent } from \"./components/RegisterComponent/RegisterComponent\";\nimport { ScoreboardComponent } from \"./components/ScoreboardComponent/ScoreboardComponent\";\nimport { SetResultComponent } from \"./components/SetResultComponent/SetResultComponent\";\n\nexport class AppRouter {\n    activeRoute: string;\n    static instance: AppRouter = null;\n    router: Router<HTMLElement>;\n    static getInstance() {\n        if (null == this.instance) {\n            this.instance = new AppRouter();\n        }\n        return this.instance;\n    }\n\n    constructor() {\n        let self = this;\n        class AppRouteResolver implements AsyncRouteResolver<HTMLElement> {\n            async resolve(lastRoute: string, currentRoute: string, router: Router<any>): Promise<false | HTMLElement> {\n                switch (currentRoute) {\n                    case \"login\":\n                        self.activeRoute = \"login\";\n                        return new LoginComponent();\n                    case \"register\":\n                        self.activeRoute = \"register\";\n                        return new RegisterComponent();\n                    case \"explanation\":\n                        self.activeRoute = \"explanation\";\n                        return new ExplanationComponent();\n                    case \"scoreboard\":\n                        self.activeRoute = \"scoreboard\";\n                        return new ScoreboardComponent();\n                    case \"setresult\":\n                        self.activeRoute = \"setresult\";\n                        return new SetResultComponent();\n                    default:\n                        self.activeRoute = \"home\";\n                        let c = new HomeComponent();\n                        return c;\n                }\n            }\n        }\n        this.router = new Router<HTMLElement>(new AppRouteResolver(), new ContainerRouteRenderer(document.getElementById(\"content\")));\n    }\n}\n","import { AccessToken } from \"../../AccessToken\";\nimport { Action as Action } from \"./Action\";\nimport { ActionType as ActionType } from \"./ActionType\";\n\n\nexport class Initialize implements Action {\n    constructor(public accessToken: AccessToken) { }\n    readonly type = ActionType.Initialize;\n}\n","import { Action as Action } from \"./Action\";\nimport { ActionType as ActionType } from \"./ActionType\";\n\n\nexport class LoginPageOpened implements Action {\n    constructor() { }\n    readonly type = ActionType.LoginPageOpened;\n}\n","import { Action as Action } from \"./Action\";\nimport { ActionType as ActionType } from \"./ActionType\";\n\n\nexport class LogoutAction implements Action {\n    constructor() { }\n    readonly type = ActionType.Logout;\n}\n","import { abortableEventListener } from \"../../abortable-event-listener\";\nimport { AppRouter } from \"../../app-router\";\nimport { LogoutAction } from \"../../state/requests/LogoutAction\";\nimport { State } from \"../../state/state\";\nimport { Store } from \"../../state/store\";\nimport template from \"./AppBar.html\";\nimport \"./AppBar.scss\";\n\nexport class AppBar extends HTMLElement {\n    private store: Store;\n    private abortController: AbortController;\n    private displayName: HTMLSpanElement;\n    private logoutBtn: HTMLButtonElement;\n    private userContainer: HTMLDivElement;\n    private loginBtn: HTMLButtonElement;\n    private router: AppRouter;\n\n    constructor() {\n        super();\n        this.innerHTML = template;\n        this.store = Store.getInstance();\n        this.router = AppRouter.getInstance();\n        this.displayName = this.querySelector(\"#logged-in-user\");\n        this.logoutBtn = this.querySelector(\"#logout\");\n        this.loginBtn = this.querySelector(\"#login\");\n        this.userContainer = this.querySelector(\"#user-container\");\n    }\n\n    connectedCallback() {\n        this.abortController = new AbortController();\n        abortableEventListener(this.logoutBtn, \"click\", ev => {\n            this.store.postAction(new LogoutAction());\n            sessionStorage.clear();\n        }, this.abortController.signal);\n        abortableEventListener(this.loginBtn, \"click\", ev => {\n            this.router.router.navigate(\"login\", \"wettma - Login\");\n        }, this.abortController.signal);\n        this.store.subscribe(s => this.updateState(s), this.abortController.signal);\n        this.updateState(this.store.state);\n        abortableEventListener(this.querySelector(\"a\"), \"click\", e => {\n            e.preventDefault();\n            this.router.router.navigate(\"\", \"wettma\");\n        }, this.abortController.signal);\n    }\n\n    updateState(s:State) {\n        if (null == s) {\n            return;\n        }\n        this.displayName.innerText = s.displayName || \"\";\n        this.displayName.style.display = s.accessToken ? \"inline\" : \"none\";\n        this.logoutBtn.style.display = s.accessToken ? \"inline\" : \"none\";\n        this.loginBtn.style.display = s.accessToken ? \"none\" : \"inline\";\n    }\n\n    disconnectedCallback() {\n        this.abortController.abort();\n    }\n}\n\ncustomElements.define(\"app-bar\", AppBar);\n","// Module\nvar code = \"<div class=\\\"app-bar__container\\\"> <nav class=\\\"app-bar\\\"> <a href=\\\"\\\"> <h1> <span class=\\\"material-icons\\\"> sports_soccer </span> wettma</h1> </a> <div class=\\\"user-container\\\" id=\\\"user-container\\\"> <span id=\\\"logged-in-user\\\"></span> <button id=\\\"logout\\\" style=\\\"display:none\\\">Logout</button> <button id=\\\"login\\\" style=\\\"display:none\\\">Login</button> </div> </nav> </div>\";\n// Exports\nexport default code;","import { AccessToken } from \"./AccessToken\";\nimport { AppRouter } from \"./app-router\";\nimport { Initialize } from \"./state/requests/Initialize\";\nimport { LoginPageOpened } from \"./state/requests/LoginPageOpened\";\nimport { Store } from \"./state/store\";\nimport \"./styles.scss\";\nimport \"./components/AppBar/AppBar\";\n\nif (\"serviceWorker\" in navigator) {\n    window.addEventListener(\"load\", async () => {\n        navigator.serviceWorker.register(\"./sw.js\").then(registration => {\n        }).catch(registrationError => {\n            console.log('SW registration failed: ', registrationError);\n        });\n    });\n}\n\nasync function getAccessToken() {\n    const sessionStorageKey = \"wettma-webapp-token\";\n    let searchParameters = new URLSearchParams(window.location.hash.replace(/^#/, \"\"))\n    let tokenFromUrl = searchParameters.get(\"id_token\");\n    if (tokenFromUrl) {\n        history.replaceState(null, null, \" \");\n        let res = await fetch(`https://oauth2.googleapis.com/tokeninfo?id_token=${tokenFromUrl}`);\n        let tokenInfo = await res.json();\n        if (!res.ok) {\n            throw new Error(`access token validation resulted in ${res.status}`);\n        }\n        let exp = +(new Date) + parseInt(searchParameters.get(\"expires_in\")) * 1000;\n        let token: AccessToken = {\n            token: tokenFromUrl,\n            exp: exp,\n            scope: tokenInfo.scope,\n            sub: tokenInfo.sub\n        };\n        sessionStorage.setItem(sessionStorageKey, JSON.stringify(token));\n        if (\"FederatedCredential\" in window) {\n            var cred = await navigator.credentials.create({\n                federated: {\n                    id: tokenInfo.sub,\n                    provider: \"https://google.wettma.kesal.at/\"\n                }\n            });\n            await navigator.credentials.store(cred);\n        }\n        return token;\n    } else {\n        let sessionToken = sessionStorage.getItem(sessionStorageKey);\n        if (null != sessionToken) {\n            let parsed: AccessToken = JSON.parse(sessionToken);\n            if (parsed.exp > +new Date()) {\n                return parsed;\n            }\n        }\n    }\n    return null;\n}\n\nasync function run() {\n    let appRouter = AppRouter.getInstance();\n    appRouter.router.run();\n\n    let store = Store.getInstance();\n    store.subscribe(state => {\n        if (state.goToLogin && appRouter.activeRoute != \"login\") {\n            store.postAction(new LoginPageOpened());\n            appRouter.router.navigate(\"login\", \"wettma - Login\");\n        }\n        else if (state.goToRegister && appRouter.activeRoute != \"register\") {\n            store.postAction(new LoginPageOpened());\n            appRouter.router.navigate(\"register\", \"wettma - Registrieren\");\n        }\n    })\n\n    let accessToken = await getAccessToken();\n    store.postAction(new Initialize(accessToken));\n}\nrun().catch(err => console.error(err));","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = function(chunkId) {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce(function(promises, key) {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = function(chunkId) {\n\t// return url for filenames based on template\n\treturn \"\" + {\"772\":\"9ee575255bf6bc40a8ed\",\"876\":\"e3eb66b34a4a0f3e9c7f\"}[chunkId] + \".bundle.js\";\n};","// This function allow to reference all chunks\n__webpack_require__.miniCssF = function(chunkId) {\n\t// return url for filenames based on template\n\treturn \"\" + chunkId + \".\" + \"d8996ba4bed2b9583ae2\" + \".css\";\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"/\";","__webpack_require__.b = document.baseURI || self.location.href;\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t826: 0\n};\n\n__webpack_require__.f.j = function(chunkId, promises) {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise(function(resolve, reject) { installedChunkData = installedChunks[chunkId] = [resolve, reject]; });\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = function(event) {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t} else installedChunks[chunkId] = 0;\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tfor(moduleId in moreModules) {\n\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t}\n\t}\n\tif(runtime) var result = runtime(__webpack_require__);\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkIds[i]] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkwettma\"] = self[\"webpackChunkwettma\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [401], function() { return __webpack_require__(8930); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"sourceRoot":""}