{"version":3,"sources":["webpack://wettma/webpack/runtime/chunk loaded","webpack://wettma/webpack/runtime/load script","webpack://wettma/webpack/runtime/css loading","webpack://wettma/./src/ArrayToElementRenderer.ts","webpack://wettma/./src/abortable-event-listener.ts","webpack://wettma/./src/components/OddsButton/OddsButton.ts","webpack://wettma/./src/components/OddsButton/OddsButton.html","webpack://wettma/./src/state/requests/CreateBetAction.ts","webpack://wettma/./src/api/models.ts","webpack://wettma/./src/CountryAbbreviation.ts","webpack://wettma/./src/ReuseableTemplate.ts","webpack://wettma/./src/state/requests/ShowGameBets.ts","webpack://wettma/./src/components/BetsDisplay/BetsDisplay.ts","webpack://wettma/./src/components/BetsDisplay/BetsDisplay.html","webpack://wettma/./src/components/UpcomingGameDisplay/UpcomingGameDisplay.ts","webpack://wettma/./src/components/UpcomingGameDisplay/UpcomingGameDisplay.html","webpack://wettma/./src/components/FinishedGameDisplay/FinishedGameDisplay.ts","webpack://wettma/./src/components/FinishedGameDisplay/FinishedGameDisplay.html","webpack://wettma/./src/components/HomeComponent/HomeComponent.ts","webpack://wettma/./src/components/HomeComponent/HomeComponent.html","webpack://wettma/./src/components/LoginForm/LoginForm.ts","webpack://wettma/./src/components/LoginForm/LoginForm.html","webpack://wettma/./src/components/LoginComponent/LoginComponent.ts","webpack://wettma/./src/components/LoginComponent/LoginComponent.html","webpack://wettma/./src/state/requests/RegisterAction.ts","webpack://wettma/./src/components/RegisterComponent/RegisterComponent.ts","webpack://wettma/./src/components/RegisterComponent/RegisterComponent.html","webpack://wettma/./src/app-router.ts","webpack://wettma/./src/state/requests/Initialize.ts","webpack://wettma/./src/state/requests/LoginPageOpened.ts","webpack://wettma/./src/state/requests/LogoutAction.ts","webpack://wettma/./src/components/AppBar/AppBar.ts","webpack://wettma/./src/components/AppBar/AppBar.html","webpack://wettma/./src/index.ts","webpack://wettma/./src/state/state.ts","webpack://wettma/./src/state/store.ts","webpack://wettma/webpack/bootstrap","webpack://wettma/webpack/runtime/compat get default export","webpack://wettma/webpack/runtime/define property getters","webpack://wettma/webpack/runtime/ensure chunk","webpack://wettma/webpack/runtime/get javascript chunk filename","webpack://wettma/webpack/runtime/get mini-css chunk filename","webpack://wettma/webpack/runtime/global","webpack://wettma/webpack/runtime/hasOwnProperty shorthand","webpack://wettma/webpack/runtime/make namespace object","webpack://wettma/webpack/runtime/publicPath","webpack://wettma/webpack/runtime/jsonp chunk loading","webpack://wettma/webpack/startup"],"names":["deferred","inProgress","dataWebpackPrefix","loadStylesheet","installedCssChunks","ArrayToElementRenderer","listElement","keySelector","createElement","this","keyToElement","Map","elementToKey","WeakMap","list","updateElement","keyCache","getKey","d","get","key","set","x","Array","from","children","el","data","find","i","removeChild","before","nextKeyToElement","t","childElement","firstElementChild","prepend","nextElementSibling","insertAdjacentElement","abortableEventListener","element","event","listenerFn","signal","addEventListener","removeEventListener","ChoiceAttribute","DisplayAttribute","OddsButton","HTMLElement","super","innerHTML","btn","querySelector","abortController","AbortController","e","preventDefault","dispatchEvent","CustomEvent","bubbles","detail","parseInt","getAttribute","abort","updateAttributes","innerText","customElements","define","CreateBetAction","oddsId","choice","type","Choice","CountryAbbreviation","ReuseableTemplate","template","instance","document","importNode","content","ShowGameBets","gameId","appendChild","expandLink","table","loading","store","tableBody","expandText","expandArrow","team1Label","team2Label","betsRenderer","g","userId","row","namecol","ev","showBets","style","display","classList","toggle","postAction","game","id","subscribe","s","updateBets","bets","gameBets","requestState","update","correct","Team1","result","team1Goals","team2Goals","Team2","Draw","icon","displayName","team1","toUpperCase","team2","state","i18nFormat","Intl","DateTimeFormat","weekday","day","month","hour","minute","team1Odds","drawOdds","team2Odds","oddsForm","timeDisplay","myBetContainer","myBetTeam","myBetOdds","saving","oddsChangedError","gameStartedError","unknownError","team1Flag","team2Flag","odds","format","time","className","visibility","setAttribute","toFixed","draw","myBet","saveError","oddsChanged","gameStarted","unknown","Date","betsDisplay","setGame","correctBet","wrongBet","goals1","goals2","wrong","querySelectorAll","HomeComponent","router","AppRouter","getInstance","upcomingGamesList","finishedGamesList","upcomingGamesRenderer","li","finishedGamesRenderer","updateState","link","navigate","upcomingGames","finishedGames","LoginForm","nonceInput","redirectUriInput","value","window","location","href","replace","loginHintInput","loginForm","length","text","possible","charAt","Math","floor","random","nonce","hint","submit","LoginComponent","navigator","credentials","federated","providers","mediation","then","c","setLoginHint","RegisterAction","RegisterComponent","form","registerFailed","onFormSubmit","register","name","FormData","self","lastRoute","currentRoute","activeRoute","ExplanationComponent","ScoreboardComponent","SetResultComponent","getElementById","Initialize","accessToken","LoginPageOpened","LogoutAction","AppBar","logoutBtn","loginBtn","userContainer","sessionStorage","clear","async","serviceWorker","registration","catch","registrationError","console","log","appRouter","run","goToLogin","goToRegister","sessionStorageKey","searchParameters","URLSearchParams","hash","tokenFromUrl","history","replaceState","res","fetch","tokenInfo","json","ok","Error","status","token","exp","scope","sub","setItem","JSON","stringify","cred","create","provider","sessionToken","getItem","parsed","parse","getAccessToken","err","error","RequestState","Store","_state","subscriptions","worker","Worker","URL","call","push","splice","indexOf","action","postMessage","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","m","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","Object","keys","every","n","getter","__esModule","a","definition","o","defineProperty","enumerable","f","chunkId","Promise","all","reduce","promises","u","miniCssF","globalThis","Function","obj","prop","prototype","hasOwnProperty","l","url","done","script","needAttach","scripts","getElementsByTagName","charset","timeout","nc","src","onScriptComplete","prev","onerror","onload","clearTimeout","doneFns","parentNode","forEach","setTimeout","bind","target","head","r","Symbol","toStringTag","p","resolve","reject","fullhref","existingLinkTags","dataHref","tag","rel","existingStyleTags","findStylesheet","linkTag","errorType","realHref","code","request","createStylesheet","826","miniCss","b","baseURI","installedChunks","installedChunkData","promise","realSrc","message","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","__webpack_exports__"],"mappings":"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","file":"084d7fdf60db7e5d95c9.bundle.js","sourcesContent":["var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tresult = fn();\n\t\t}\n\t}\n\treturn result;\n};","var inProgress = {};\nvar dataWebpackPrefix = \"wettma:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = function(url, done, key, chunkId) {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = function(prev, event) {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach(function(fn) { return fn(event); });\n\t\tif(prev) return prev(event);\n\t}\n\t;\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","var createStylesheet = function(chunkId, fullhref, resolve, reject) {\n\tvar linkTag = document.createElement(\"link\");\n\n\tlinkTag.rel = \"stylesheet\";\n\tlinkTag.type = \"text/css\";\n\tvar onLinkComplete = function(event) {\n\t\t// avoid mem leaks.\n\t\tlinkTag.onerror = linkTag.onload = null;\n\t\tif (event.type === 'load') {\n\t\t\tresolve();\n\t\t} else {\n\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\tvar realHref = event && event.target && event.target.href || fullhref;\n\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + realHref + \")\");\n\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n\t\t\terr.type = errorType;\n\t\t\terr.request = realHref;\n\t\t\tlinkTag.parentNode.removeChild(linkTag)\n\t\t\treject(err);\n\t\t}\n\t}\n\tlinkTag.onerror = linkTag.onload = onLinkComplete;\n\tlinkTag.href = fullhref;\n\n\tdocument.head.appendChild(linkTag);\n\treturn linkTag;\n};\nvar findStylesheet = function(href, fullhref) {\n\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n\tfor(var i = 0; i < existingLinkTags.length; i++) {\n\t\tvar tag = existingLinkTags[i];\n\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return tag;\n\t}\n\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n\tfor(var i = 0; i < existingStyleTags.length; i++) {\n\t\tvar tag = existingStyleTags[i];\n\t\tvar dataHref = tag.getAttribute(\"data-href\");\n\t\tif(dataHref === href || dataHref === fullhref) return tag;\n\t}\n};\nvar loadStylesheet = function(chunkId) {\n\treturn new Promise(function(resolve, reject) {\n\t\tvar href = __webpack_require__.miniCssF(chunkId);\n\t\tvar fullhref = __webpack_require__.p + href;\n\t\tif(findStylesheet(href, fullhref)) return resolve();\n\t\tcreateStylesheet(chunkId, fullhref, resolve, reject);\n\t});\n}\n// object to store loaded CSS chunks\nvar installedCssChunks = {\n\t826: 0\n};\n\n__webpack_require__.f.miniCss = function(chunkId, promises) {\n\tvar cssChunks = {\"151\":1,\"554\":1,\"698\":1,\"876\":1};\n\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n\t\tpromises.push(installedCssChunks[chunkId] = loadStylesheet(chunkId).then(function() {\n\t\t\tinstalledCssChunks[chunkId] = 0;\n\t\t}, function(e) {\n\t\t\tdelete installedCssChunks[chunkId];\n\t\t\tthrow e;\n\t\t}));\n\t}\n};\n\n// no hmr","export class ArrayToElementRenderer<T, E extends Element, K>{\n    private keyToElement: Map<K, E>;\n    private elementToKey: WeakMap<E, K>;\n    \n    constructor(private listElement: HTMLElement,\n        private keySelector: (x: T) => K,\n        private createElement: (x: T) => E) {\n        this.keyToElement = new Map<K, E>();\n        this.elementToKey = new WeakMap<E, K>();\n    }\n\n    update(list: T[], updateElement: (x: E, data: T) => void) {\n        let keyCache = new Map<T, K>();\n        let getKey = (d: T) => keyCache.get(d) || (() => {\n            let key = this.keySelector(d);\n            keyCache.set(d, key);\n            return key;\n        })();\n        for (let x of Array.from(this.listElement.children)) {\n            let el: E = <E>x;\n            let data = list.find(i => this.elementToKey.get(el) == getKey(i));\n            if (data) {\n                updateElement(<E>el, data);\n            }\n            else {\n                this.listElement.removeChild(el);\n            }\n        }\n        let before: Element = null;\n        let nextKeyToElement = new Map<K, E>();\n        for (let t of list) {\n            let key = getKey(t);\n            let childElement: E = this.keyToElement.get(key);\n            if (!childElement) {\n                childElement = this.createElement(t);\n                updateElement(childElement, t);\n                this.elementToKey.set(childElement, key);\n            }\n            nextKeyToElement.set(key, childElement);\n            if (null == before && childElement != this.listElement.firstElementChild) {\n                this.listElement.prepend(childElement);\n            }\n            else if (null != before && before.nextElementSibling != childElement) {\n                before.insertAdjacentElement(\"afterend\", childElement);\n            }\n            before = childElement;\n        }\n        this.keyToElement = nextKeyToElement;\n    }\n\n}","export function abortableEventListener<TCallbackFnResult,\n    TEvent,\n    TCallbackFn extends (this: THTMLElement, event: TEvent extends keyof HTMLElementEventMap ? HTMLElementEventMap[TEvent] : any) => TCallbackFnResult,\n    TAddEventListener extends (eventName: TEvent, listener: TCallbackFn) => void,\n    THTMLElement extends { addEventListener: TAddEventListener, removeEventListener: TAddEventListener }>(element: THTMLElement, event: TEvent, listenerFn: TCallbackFn, signal: AbortSignal): void {\n    element.addEventListener(event, listenerFn);\n    signal.addEventListener(\"abort\", () => {\n        element.removeEventListener(event, listenerFn);\n    });\n}","import { abortableEventListener } from \"../../abortable-event-listener\";\nimport { Choice } from \"../../api/models\";\nimport template from \"./OddsButton.html\";\nimport \"./OddsButton.scss\";\n\nexport const ChoiceAttribute = \"choice\";\nexport const DisplayAttribute = \"display\";\n\nexport class OddsButton extends HTMLElement {\n    private abortController: AbortController;\n    private btn: HTMLButtonElement;\n\n    constructor() {\n        super();\n        this.innerHTML = template;\n        this.btn = this.querySelector(\"button\");\n    }\n\n    connectedCallback() {\n        this.abortController = new AbortController();\n        abortableEventListener(this.btn, \"click\", e => {\n            e.preventDefault();\n            this.dispatchEvent(new CustomEvent(\"oddsclicked\", { bubbles: true, detail: parseInt(this.getAttribute(ChoiceAttribute)) }));\n        }, this.abortController.signal);\n    }\n\n    disconnectedCallback() {\n        this.abortController.abort();\n    }\n\n    attributeChangedCallback() {\n        this.updateAttributes();\n    }\n\n    private updateAttributes() {\n        this.btn.innerText = this.getAttribute(DisplayAttribute);\n    }\n\n    static get observedAttributes() {\n        return [ChoiceAttribute, DisplayAttribute];\n    }\n}\n\ncustomElements.define(\"odds-button\", OddsButton);\n","// Module\nvar code = \"<button type=\\\"button\\\" class=\\\"odds-button\\\"/>\";\n// Exports\nexport default code;","import { Choice } from \"../../api/models\";\nimport { Action as Action } from \"./Action\";\nimport { ActionType as ActionType } from \"./ActionType\";\n\nexport class CreateBetAction implements Action {\n    constructor(public oddsId: number, public choice: Choice) { }\n    readonly type = ActionType.CreateBet;\n}\n\n","export interface Profile {\n    displayName: string;\n    userId: string;\n}\n\nexport interface Odds {\n    id: number;\n    gameId: number;\n    team1Odds: number;\n    team2Odds: number;\n    drawOdds: number | null;\n}\n\nexport interface GameResult {\n    team1Goals: number;\n    team2Goals: number;\n}\n\nexport interface Game {\n    id: number;\n    team1: string;\n    team2: string;\n    time: string;\n    result: GameResult;\n    myBet: MyBet;\n}\n\nexport interface MyBet {\n    odds: Odds;\n    choice: Choice;\n}\n\nexport interface UserBet {\n    choice: Choice;\n    userId: string;\n    displayName: string;\n}\n\nexport interface Bet {\n    id: number;\n    userId: string;\n    userDisplayName: string;\n    timePlaced: string;\n    choice: Choice;\n    odds: number;\n}\n\nexport enum Choice {\n    Team1 = 0,\n    Team2 = 1,\n    Draw = 2\n}\n\nexport interface ScoreboardEntry {\n    displayName: string;\n    userId: string;\n    points: number;\n}","export const CountryAbbreviation: { [s: string]: string } = {\n    \"Türkei\": \"tr\",\n    \"Italien\": \"it\",\n    \"Wales\": \"gb-wls\",\n    \"Schweiz\": \"ch\",\n    \"Schweden\": \"se\",\n    \"Finnland\": \"fi\",\n    \"Deutschland\": \"de\",\n    \"England\": \"gb-eng\",\n    \"Dänemark\": \"dk\",\n    \"Russland\": \"ru\",\n    \"Österreich\": \"at\",\n    \"Belgien\": \"be\",\n    \"Kroatien\": \"hr\",\n    \"Nordmazedonien\": \"mk\",\n    \"Niederlande\": \"nl\",\n    \"Ukraine\": \"ua\",\n    \"Spanien\": \"es\",\n    \"Schottland\": \"gb-sct\",\n    \"Tschechien\": \"cz\",\n    \"Polen\": \"pl\",\n    \"Slowakei\": \"sk\",\n    \"Portugal\": \"pt\",\n    \"Ungarn\": \"hu\",\n    \"Frankreich\": \"fr\"\n};","export class ReuseableTemplate {\n    private instance: HTMLTemplateElement;\n    constructor(private readonly template: string) {\n    }\n\n    get(): DocumentFragment {\n        if (null == this.instance) {\n            this.instance = document.createElement(\"template\");\n            this.instance.innerHTML = this.template;\n        }\n        return document.importNode(this.instance.content, true);\n    }\n}\n","import { Action as Action } from \"./Action\";\nimport { ActionType as ActionType } from \"./ActionType\";\n\n\nexport class ShowGameBets implements Action {\n    constructor(public gameId: number) { }\n    readonly type = ActionType.ShowGameBets;\n}","import { abortableEventListener } from \"../../abortable-event-listener\";\nimport { Choice } from \"../../api/models\";\nimport { ArrayToElementRenderer } from \"../../ArrayToElementRenderer\";\nimport { CountryAbbreviation } from \"../../CountryAbbreviation\";\nimport { FinishedGame } from \"../../models/FinishedGame\";\nimport { GameBets, UserBet } from \"../../models/GameBets\";\nimport { UpcomingGame } from \"../../models/UpcomingGame\";\nimport { ReuseableTemplate } from \"../../ReuseableTemplate\";\nimport { ShowGameBets } from \"../../state/requests/ShowGameBets\";\nimport { RequestState, State } from \"../../state/state\";\nimport { Store } from \"../../state/store\";\nimport templateContent from \"./BetsDisplay.html\";\nimport \"./BetsDisplay.scss\";\n\nconst crossIcon = `<span class=\"material-icons\">close</span>`;\nconst correctIcon = `<span class=\"material-icons\">done</span>`;\n\nconst template = new ReuseableTemplate(templateContent);\n\nexport class BetsDisplay extends HTMLElement {\n    private expandLink: HTMLAnchorElement;\n    private abortController: AbortController;\n    private store: Store;\n    private showBets: boolean;\n    private game: UpcomingGame | FinishedGame;\n    private betsRenderer: ArrayToElementRenderer<UserBet, HTMLTableRowElement, string>;\n    private table: HTMLTableElement;\n    private loading: HTMLDivElement;\n    private tableBody: HTMLTableSectionElement;\n    private expandText: HTMLSpanElement;\n    private expandArrow: HTMLSpanElement;\n    private team1Label: HTMLTableCellElement;\n    private team2Label: HTMLTableCellElement;\n\n    constructor() {\n        super();\n        this.appendChild(template.get());\n        this.expandLink = this.querySelector(`[data-ref=\"expand-link\"]`);\n        this.table = this.querySelector(\"table\");\n        this.loading = this.querySelector(`[data-ref=\"loading\"]`);\n        this.store = Store.getInstance();\n        this.tableBody = this.querySelector(\"tbody\");\n        this.expandText = this.querySelector(`[data-ref=\"expand-text\"]`);\n        this.expandArrow = this.querySelector(`[data-ref=\"expand-arrow\"]`);\n        this.team1Label = this.querySelector(`[data-ref=\"team1label\"]`);\n        this.team2Label = this.querySelector(`[data-ref=\"team2label\"]`);\n        this.betsRenderer = new ArrayToElementRenderer(this.tableBody,\n            g => g.userId,\n            g => {\n                let row = document.createElement(\"tr\");\n                let namecol = document.createElement(\"td\");\n                row.appendChild(namecol);\n                row.appendChild(document.createElement(\"td\"));\n                row.appendChild(document.createElement(\"td\"));\n                row.appendChild(document.createElement(\"td\"));\n                return row;\n            });\n    }\n\n    connectedCallback() {\n        this.abortController = new AbortController();\n        abortableEventListener(this.expandLink, \"click\", ev => {\n            ev.preventDefault();\n            this.showBets = !this.showBets;\n            this.table.style.display = this.showBets ? \"\" : \"none\";\n            this.expandArrow.classList.toggle(\"rotate\", this.showBets);\n            if (this.showBets) {\n                this.store.postAction(new ShowGameBets(this.game.id));\n            }\n            this.expandText.innerText = !this.showBets ? \"Tipps von allen anzeigen\" : \"Tipps von allen verbergen\";\n        }, this.abortController.signal);\n        this.store.subscribe(s => {\n            this.updateBets(s);\n        }, this.abortController.signal);\n    }\n\n    disconnectedCallback() {\n        this.abortController.abort();\n    }\n\n    updateBets(s: State) {\n        let bets = s.gameBets[this.game.id];\n        this.loading.style.display = bets && bets.requestState == RequestState.InProgress ? \"flex\" : \"none\";\n        if (bets && bets.bets) {\n            this.betsRenderer.update(bets.bets, (e, d) => {\n                let correct = false;\n                if (\"result\" in this.game) {\n                    correct =\n                        ((d.choice == Choice.Team1 && this.game.result.team1Goals > this.game.result.team2Goals) ||\n                            (d.choice == Choice.Team2 && this.game.result.team1Goals < this.game.result.team2Goals) ||\n                            (d.choice == Choice.Draw && this.game.result.team1Goals == this.game.result.team2Goals));\n                }\n                let icon = correct ? correctIcon : crossIcon;\n                let nameCol: HTMLTableCellElement = <HTMLTableCellElement>e.children[0];\n                nameCol.innerText = d.displayName;\n                (<HTMLTableCellElement>e.children[1]).innerHTML = d.choice == Choice.Team1 ? icon : \"\";\n                (<HTMLTableCellElement>e.children[2]).innerHTML = d.choice == Choice.Draw ? icon : \"\";\n                (<HTMLTableCellElement>e.children[3]).innerHTML = d.choice == Choice.Team2 ? icon : \"\";\n            });\n        }\n    }\n\n    setGame(game: UpcomingGame | FinishedGame) {\n        this.game = game;\n        this.team1Label.innerText = CountryAbbreviation[game.team1].toUpperCase();\n        this.team2Label.innerText = CountryAbbreviation[game.team2].toUpperCase();\n        this.updateBets(this.store.state);\n    }\n}\n\ncustomElements.define(\"bets-display\", BetsDisplay);\n","// Module\nvar code = \"<a href=\\\"\\\" data-ref=\\\"expand-link\\\" class=\\\"expand-link\\\"> <span class=\\\"material-icons\\\" data-ref=\\\"expand-arrow\\\"> expand_more </span> <span class=\\\"expand-link__text\\\" data-ref=\\\"expand-text\\\"> Tipps von allen anzeigen </span> </a> <div data-ref=\\\"loading\\\" class=\\\"status-msg saving\\\"> <span class=\\\"material-icons\\\" title=\\\"Tipps werden geladen.\\\"> donut_large </span> Tipps werden geladen. </div> <table class=\\\"bets-table\\\" style=\\\"display:none\\\"> <thead> <tr> <td> Spieler/in </td> <td data-ref=\\\"team1label\\\"></td> <td>-</td> <td data-ref=\\\"team2label\\\"></td> </tr> </thead> <tbody></tbody> </table>\";\n// Exports\nexport default code;","import { UpcomingGame } from \"../../models/UpcomingGame\";\nimport templateContent from \"./UpcomingGameDisplay.html\";\nimport \"./UpcomingGameDisplay.scss\";\nimport \"../OddsButton/OddsButton\";\nimport { DisplayAttribute, OddsButton } from \"../OddsButton/OddsButton\";\nimport { abortableEventListener } from \"../../abortable-event-listener\";\nimport { Store } from \"../../state/store\";\nimport { CreateBetAction } from \"../../state/requests/CreateBetAction\";\nimport { Choice } from \"../../api/models\";\nimport \"../BetsDisplay/BetsDisplay\";\nimport { BetsDisplay } from \"../BetsDisplay/BetsDisplay\";\nimport { CountryAbbreviation } from \"../../CountryAbbreviation\";\nimport { ReuseableTemplate } from \"../../ReuseableTemplate\";\n\nlet i18nFormat = new Intl.DateTimeFormat([\"de-AT\"], { weekday: \"short\", day: \"2-digit\", month: \"2-digit\", hour: \"2-digit\", minute: \"2-digit\" });\n\nimport(\"./flags\");\n\nconst template = new ReuseableTemplate(templateContent);\n\n\nexport class UpcomingGameDisplay extends HTMLElement {\n    private team1Label: HTMLSpanElement;\n    private team2Label: HTMLSpanElement;\n    private team1Odds: OddsButton;\n    private drawOdds: OddsButton;\n    private team2Odds: OddsButton;\n    private oddsForm: HTMLFormElement;\n    private timeDisplay: HTMLSpanElement;\n    private abortController: AbortController;\n    private game: UpcomingGame;\n    private store: Store;\n    private myBetContainer: HTMLDivElement;\n    private myBetTeam: HTMLSpanElement;\n    private myBetOdds: HTMLSpanElement;\n    private saving: HTMLDivElement;\n    private oddsChangedError: HTMLDivElement;\n    private gameStartedError: HTMLDivElement;\n    private unknownError: HTMLDivElement;\n    private team2Flag: HTMLSpanElement;\n    private team1Flag: HTMLSpanElement;\n    private betsDisplay: BetsDisplay;\n\n    constructor() {\n        super();\n        this.appendChild(template.get());\n        this.team1Label = this.querySelector(`[data-ref=\"team1\"]`);\n        this.team2Label = this.querySelector(`[data-ref=\"team2\"]`);\n        this.team1Odds = this.querySelector(`[data-ref=\"team1-odds\"]`);\n        this.drawOdds = this.querySelector(`[data-ref=\"draw-odds\"]`);\n        this.team2Odds = this.querySelector(`[data-ref=\"team2-odds\"]`);\n        this.oddsForm = this.querySelector(`[data-ref=\"odds-form\"]`);\n        this.timeDisplay = this.querySelector(`[data-ref=\"time\"]`);\n        this.myBetContainer = this.querySelector(`[data-ref=\"my-bet\"]`);\n        this.myBetTeam = this.querySelector(`[data-ref=\"my-bet-team\"]`);\n        this.myBetOdds = this.querySelector(`[data-ref=\"my-bet-odds\"]`);\n        this.saving = this.querySelector(`[data-ref=\"saving\"]`);\n        this.oddsChangedError = this.querySelector(`[data-ref=\"odds-changed-error\"]`);\n        this.gameStartedError = this.querySelector(`[data-ref=\"game-started-error\"]`);\n        this.unknownError = this.querySelector(`[data-ref=\"save-error\"]`)\n        this.team1Flag = this.querySelector(`[data-ref=\"team1-flag\"]`);\n        this.team2Flag = this.querySelector(`[data-ref=\"team2-flag\"]`);\n        this.store = Store.getInstance();\n    }\n\n    connectedCallback() {\n        this.abortController = new AbortController();\n        abortableEventListener(this.oddsForm, \"oddsclicked\", (ev: CustomEvent) => {\n            this.store.postAction(new CreateBetAction(this.game.odds.id, ev.detail));\n        }, this.abortController.signal);\n    }\n\n    disconnectedCallback() {\n        this.abortController.abort();\n    }\n\n    setGame(game: UpcomingGame) {\n        this.game = game;\n        this.team1Label.innerText = game.team1;\n        this.team2Label.innerText = game.team2;\n        this.timeDisplay.innerText = i18nFormat.format(game.time);\n        this.team1Flag.className = `flag-icon flag-icon-${CountryAbbreviation[game.team1]}`;\n        this.team2Flag.className = `flag-icon flag-icon-${CountryAbbreviation[game.team2]}`;\n        this.team1Odds.style.visibility = game.odds ? \"visible\" : \"hidden\";\n        this.drawOdds.style.visibility = game.odds ? \"visible\" : \"hidden\";\n        this.team2Odds.style.visibility = game.odds ? \"visible\" : \"hidden\";\n        if (game.odds) {\n            if (game.odds.team1) {\n                this.team1Odds.style.display = \"\";\n                this.team1Odds.setAttribute(DisplayAttribute, `${game.odds.team1.toFixed(2)}`);\n            } else {\n                this.team1Odds.style.display = \"none\";\n            }\n            if (game.odds.team2) {\n                this.team2Odds.style.display = \"\";\n                this.team2Odds.setAttribute(DisplayAttribute, `${game.odds.team2.toFixed(2)}`);\n            } else {\n                this.team2Odds.style.display = \"none\";\n            }\n            if (game.odds.draw) {\n                this.drawOdds.style.display = \"\";\n                this.drawOdds.setAttribute(DisplayAttribute, `${game.odds.draw.toFixed(2)}`);\n            } else {\n                this.drawOdds.style.display = \"none\";\n            }\n        }\n        this.myBetContainer.style.display = game.myBet && !game.saving ? \"flex\" : \"none\";\n        if (game.myBet) {\n            this.myBetTeam.innerText = game.myBet.choice == Choice.Team1 ? game.team1 : game.myBet.choice == Choice.Team2 ? game.team2 : \"Unentschieden\";\n            this.myBetOdds.innerText = `${game.myBet.choice == Choice.Team1 ? game.myBet.odds.team1 : game.myBet.choice == Choice.Team2 ? game.myBet.odds.team2 : game.myBet.odds.draw}`;\n\n        }\n        this.saving.style.display = game.saving ? \"flex\" : \"none\";\n        this.oddsChangedError.style.display = game.saveError?.oddsChanged ? \"flex\" : \"none\";\n        this.gameStartedError.style.display = game.saveError?.gameStarted ? \"flex\" : \"none\";\n        this.unknownError.style.display = game.saveError?.unknown ? \"flex\" : \"none\";\n        if (+game.time < +new Date()) {\n            if (!this.betsDisplay) {\n                this.betsDisplay = new BetsDisplay();\n                this.appendChild(this.betsDisplay);\n            }\n        } else if (this.betsDisplay) {\n            this.removeChild(this.betsDisplay);\n            this.betsDisplay = null;\n        }\n        if (this.betsDisplay) {\n            this.betsDisplay.setGame(game);\n        }\n    }\n}\n\ncustomElements.define(\"upcoming-game-display\", UpcomingGameDisplay);\n","// Module\nvar code = \"<form data-ref=\\\"odds-form\\\" class=\\\"odds-form\\\"> <h3 class=\\\"team1\\\"> <span class=\\\"flag-icon flag-icon-tr\\\" data-ref=\\\"team1-flag\\\"></span> <span data-ref=\\\"team1\\\"></span> </h3> <h3 class=\\\"team2\\\"> <span class=\\\"flag-icon flag-icon-it\\\" data-ref=\\\"team2-flag\\\"></span> <span data-ref=\\\"team2\\\"></span> </h3> <span data-ref=\\\"time\\\" class=\\\"time\\\"></span> <odds-button class=\\\"choice-team1\\\" choice=\\\"0\\\" data-ref=\\\"team1-odds\\\"></odds-button> <odds-button class=\\\"choice-draw\\\" choice=\\\"2\\\" data-ref=\\\"draw-odds\\\"></odds-button> <odds-button class=\\\"choice-team2\\\" choice=\\\"1\\\" data-ref=\\\"team2-odds\\\"></odds-button> </form> <div data-ref=\\\"my-bet\\\" class=\\\"status-msg my-bet\\\"> <span class=\\\"material-icons\\\" title=\\\"Tipp abgegeben\\\"> done </span> <span> Dein Tipp <strong> <span data-ref=\\\"my-bet-team\\\"></span> </strong> für <strong> <span data-ref=\\\"my-bet-odds\\\"></span></strong>. </span> </div> <div data-ref=\\\"saving\\\" class=\\\"status-msg saving\\\"> <span class=\\\"material-icons\\\" title=\\\"Tipp wird gepeichert.\\\"> donut_large </span> Dein Tipp wird gespeichert. </div> <div data-ref=\\\"odds-changed-error\\\" class=\\\"status-msg warning\\\"> <span class=\\\"material-icons\\\" title=\\\"Tipp nicht gespeichert: Quoten geändert\\\"> warning </span> Dein Tipp wurde nicht gespeichert, weil sich die Quoten geändert haben. </div> <div data-ref=\\\"game-started-error\\\" class=\\\"status-msg error\\\"> <span class=\\\"material-icons\\\" title=\\\"Spiel hat bereits begonnen\\\"> error </span> Dein Tipp wurde nicht gespeichert, weil das Spiel bereits begonnen hat. </div> <div data-ref=\\\"save-error\\\" class=\\\"status-msg error\\\"> <span class=\\\"material-icons\\\" title=\\\"Tipp konnte nicht gespeichert werden\\\"> error </span> Beim Speichern ist ein Fehler aufgetreten. </div>\";\n// Exports\nexport default code;","import { UpcomingGame } from \"../../models/UpcomingGame\";\nimport { FinishedGame } from \"../../models/FinishedGame\";\nimport templateContent from \"./FinishedGameDisplay.html\";\nimport \"./FinishedGameDisplay.scss\";\nimport \"../OddsButton/OddsButton\";\nimport { abortableEventListener } from \"../../abortable-event-listener\";\nimport { Store } from \"../../state/store\";\nimport { CreateBetAction } from \"../../state/requests/CreateBetAction\";\nimport { Choice } from \"../../api/models\";\nimport { BetsDisplay } from \"../BetsDisplay/BetsDisplay\";\nimport { CountryAbbreviation } from \"../../CountryAbbreviation\";\nimport { ReuseableTemplate } from \"../../ReuseableTemplate\";\n\nlet i18nFormat = new Intl.DateTimeFormat([\"de-AT\"], { weekday: \"short\", day: \"2-digit\", month: \"2-digit\", hour: \"2-digit\", minute: \"2-digit\" });\n\nconst template = new ReuseableTemplate(templateContent);\n\nexport class FinishedGameDisplay extends HTMLElement {\n    private team1Label: HTMLSpanElement;\n    private team2Label: HTMLSpanElement;\n    private timeDisplay: HTMLSpanElement;\n    private abortController: AbortController;\n    private game: FinishedGame;\n    private store: Store;\n    private team2Flag: HTMLSpanElement;\n    private team1Flag: HTMLSpanElement;\n    private goals1: HTMLHeadingElement;\n    private goals2: HTMLHeadingElement;\n    private correctBet: HTMLDivElement;\n    private wrongBet: HTMLDivElement;\n    private betsDisplay: BetsDisplay;\n\n    constructor() {\n        super();\n        this.appendChild(template.get());\n        this.team1Label = this.querySelector(`[data-ref=\"team1\"]`);\n        this.team2Label = this.querySelector(`[data-ref=\"team2\"]`);\n        this.timeDisplay = this.querySelector(`[data-ref=\"time\"]`);\n        this.correctBet = this.querySelector(`[data-ref=\"correct-bet\"]`);\n        this.wrongBet = this.querySelector(`[data-ref=\"wrong-bet\"]`);\n        this.team1Flag = this.querySelector(`[data-ref=\"team1-flag\"]`);\n        this.team2Flag = this.querySelector(`[data-ref=\"team2-flag\"]`);\n        this.goals1 = this.querySelector(`[data-ref=\"goals1\"]`);\n        this.goals2 = this.querySelector(`[data-ref=\"goals2\"]`);\n        this.betsDisplay = this.querySelector(`[data-ref=\"bets-display\"]`);\n        this.store = Store.getInstance();\n    }\n\n    connectedCallback() {\n        this.abortController = new AbortController();\n    }\n\n    disconnectedCallback() {\n        this.abortController.abort();\n    }\n\n    setGame(game: FinishedGame) {\n        this.game = game;\n        this.team1Label.innerText = game.team1;\n        this.team2Label.innerText = game.team2;\n        this.timeDisplay.innerText = i18nFormat.format(game.time);\n        this.team1Flag.className = `flag-icon flag-icon-${CountryAbbreviation[game.team1]}`;\n        this.team2Flag.className = `flag-icon flag-icon-${CountryAbbreviation[game.team2]}`;\n        this.goals1.innerText = game.result.team1Goals + \"\";\n        this.goals2.innerText = game.result.team2Goals + \"\";\n\n        let correct = this.game.myBet &&\n            ((this.game.myBet.choice == Choice.Team1 && this.game.result.team1Goals > this.game.result.team2Goals) ||\n                (this.game.myBet.choice == Choice.Team2 && this.game.result.team1Goals < this.game.result.team2Goals) ||\n                (this.game.myBet.choice == Choice.Draw && this.game.result.team1Goals == this.game.result.team2Goals));\n        let wrong = this.game.myBet && !correct;\n\n        this.correctBet.style.display = correct ? \"flex\" : \"none\";\n        this.wrongBet.style.display = wrong ? \"flex\" : \"none\";\n\n        if (this.game.myBet) {\n            for (let e of this.querySelectorAll(`[data-ref=\"my-bet-team\"]`)) {\n                let el: HTMLSpanElement = <HTMLSpanElement>e;\n                el.innerText = game.myBet.choice == Choice.Team1 ? game.team1 : game.myBet.choice == Choice.Team2 ? game.team2 : \"Unentschieden\"\n            }\n            for (let e of this.querySelectorAll(`[data-ref=\"my-bet-odds\"]`)) {\n                let el: HTMLSpanElement = <HTMLSpanElement>e;\n                el.innerText = `${game.myBet.choice == Choice.Team1 ? game.myBet.odds.team1 : game.myBet.choice == Choice.Team2 ? game.myBet.odds.team2 : game.myBet.odds.draw}`;\n            }\n        }\n        this.betsDisplay.setGame(game);\n    }\n}\n\ncustomElements.define(\"finished-game-display\", FinishedGameDisplay);\n","// Module\nvar code = \"<div class=\\\"finished-game\\\"> <h3 class=\\\"team1\\\"> <span class=\\\"flag-icon flag-icon-tr\\\" data-ref=\\\"team1-flag\\\"></span> <span data-ref=\\\"team1\\\"></span> </h3> <h3 class=\\\"team2\\\"> <span class=\\\"flag-icon flag-icon-it\\\" data-ref=\\\"team2-flag\\\"></span> <span data-ref=\\\"team2\\\"></span> </h3> <span data-ref=\\\"time\\\" class=\\\"time\\\"></span> <h3 class=\\\"goals1\\\" data-ref=\\\"goals1\\\"></h3> <h3 class=\\\"goals2\\\" data-ref=\\\"goals2\\\"></h3> </div> <div data-ref=\\\"correct-bet\\\" class=\\\"status-msg correct-bet\\\"> <span class=\\\"material-icons\\\" title=\\\"Tipp abgegeben\\\"> done </span> <span> Dein Tipp <strong> <span data-ref=\\\"my-bet-team\\\"></span> </strong> für <strong> <span data-ref=\\\"my-bet-odds\\\"></span></strong> war richtig. </span> </div> <div data-ref=\\\"wrong-bet\\\" class=\\\"status-msg wrong-bet\\\"> <span class=\\\"material-icons\\\" title=\\\"Tipp abgegeben\\\"> close </span> <span> Dein Tipp <strong> <span data-ref=\\\"my-bet-team\\\"></span> </strong> für <strong> <span data-ref=\\\"my-bet-odds\\\"></span></strong> war leider nicht richtig. </span> </div> <bets-display data-ref=\\\"bets-display\\\"></bets-display>\";\n// Exports\nexport default code;","import { abortableEventListener } from \"../../abortable-event-listener\";\nimport { AppRouter } from \"../../app-router\";\nimport { ArrayToElementRenderer } from \"../../ArrayToElementRenderer\";\nimport { UpcomingGame } from \"../../models/UpcomingGame\";\nimport { FinishedGame } from \"../../models/FinishedGame\";\nimport { State } from \"../../state/state\";\nimport { Store } from \"../../state/store\";\nimport { UpcomingGameDisplay } from \"../UpcomingGameDisplay/UpcomingGameDisplay\";\nimport { FinishedGameDisplay } from \"../FinishedGameDisplay/FinishedGameDisplay\";\nimport template from \"./HomeComponent.html\";\nimport \"./HomeComponent.scss\";\n\nexport class HomeComponent extends HTMLElement {\n    private store: Store;\n    private abortController: AbortController;\n    private upcomingGamesList: HTMLOListElement;\n    private upcomingGamesRenderer: ArrayToElementRenderer<UpcomingGame, HTMLLIElement, number>;\n    private finishedGamesRenderer: ArrayToElementRenderer<FinishedGame, HTMLLIElement, number>;\n    private router: AppRouter;\n    private finishedGamesList: HTMLOListElement;\n\n    constructor() {\n        super();\n        this.innerHTML = template;\n        this.store = Store.getInstance();\n        this.router = AppRouter.getInstance();\n        this.upcomingGamesList = this.querySelector(\"#upcoming-games\");\n        this.finishedGamesList = this.querySelector(\"#finished-games\");\n        this.upcomingGamesRenderer = new ArrayToElementRenderer(this.upcomingGamesList,\n            g => g.id,\n            g => {\n                let li = document.createElement(\"li\");\n                li.appendChild(new UpcomingGameDisplay());\n                return li;\n            });\n        this.finishedGamesRenderer = new ArrayToElementRenderer(this.finishedGamesList,\n            g => g.id,\n            g => {\n                let li = document.createElement(\"li\");\n                li.appendChild(new FinishedGameDisplay());\n                return li;\n            });\n    }\n\n    connectedCallback() {\n        this.abortController = new AbortController();\n        this.store.subscribe(s => this.updateState(s), this.abortController.signal);\n        this.updateState(this.store.state);\n        for (let link of this.querySelectorAll(`[data-ref=\"spa-link\"]`)) {\n            abortableEventListener(link, \"click\", e => {\n                e.preventDefault();\n                this.router.router.navigate(link.getAttribute(\"href\"), link.getAttribute(\"title\"));\n            }, this.abortController.signal);\n        }\n    }\n\n    updateState(s: State) {\n        if (null == s) {\n            return;\n        }\n        this.upcomingGamesRenderer.update(s.upcomingGames, (li, g) => {\n            let e: UpcomingGameDisplay = <UpcomingGameDisplay>li.children[0];\n            e.setGame(g);\n        });\n        this.finishedGamesRenderer.update(s.finishedGames, (li, g) => {\n            let e: FinishedGameDisplay = <FinishedGameDisplay>li.children[0];\n            e.setGame(g);\n        });\n    }\n\n    disconnectedCallback() {\n        this.abortController.abort();\n    }\n}\n\ncustomElements.define(\"home-component\", HomeComponent);\n","// Module\nvar code = \"<div class=\\\"container\\\"> <section class=\\\"section\\\"> <nav class=\\\"link-section\\\"> <a href=\\\"#finished-gamesh\\\">Vergangene Spiele</a> <a href=\\\"scoreboard\\\" title=\\\"Rangliste - wettma\\\" id=\\\"scoreboard-link\\\" data-ref=\\\"spa-link\\\">Rangliste</a> <a href=\\\"explanation\\\" title=\\\"Spielanleitung - wettma\\\" id=\\\"explanation-link\\\" data-ref=\\\"spa-link\\\">Spielanleitung</a> </nav> <h2> Nächste Spiele </h2> <ol id=\\\"upcoming-games\\\" class=\\\"gameslist\\\"> </ol> <h2 id=\\\"finished-gamesh\\\"> Vergangene Spiele </h2> <ol id=\\\"finished-games\\\" class=\\\"gameslist\\\"> </ol> </section> </div>\";\n// Exports\nexport default code;","import template from \"./LoginForm.html\";\nimport \"./LoginForm.scss\";\n\nfunction nonce(length: number) {\n    var text = \"\";\n    var possible = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n    for (var i = 0; i < length; i++) {\n        text += possible.charAt(Math.floor(Math.random() * possible.length));\n    }\n    return text;\n}\n\nexport class LoginForm extends HTMLElement {\n    private nonceInput: HTMLInputElement;\n    private redirectUriInput: HTMLInputElement;\n    private loginHintInput: HTMLInputElement;\n    private loginForm: HTMLFormElement;\n    constructor() {\n        super();\n        this.innerHTML = template;\n    }\n\n    connectedCallback() {\n        this.nonceInput = this.querySelector(\"#nonce\");\n        this.redirectUriInput = this.querySelector(\"#redirect_uri\");\n        this.redirectUriInput.value = window.location.href.replace(/\\/(login|explanation|scoreboard|setresult)|(\\?.+)|(\\#.+)/g, \"\").replace(/(\\/$)/g, \"\");\n        this.loginHintInput = this.querySelector(\"#login_hint\");\n        this.loginForm = this.querySelector(\"#login_form\");\n        this.nonceInput.value = nonce(8);\n    }\n\n    disconnectedCallback() {\n\n    }\n\n    setLoginHint(hint: string) {\n        this.loginHintInput.value = hint;\n    }\n\n    submit() {\n        this.loginForm.submit();\n    }\n}\n\ncustomElements.define(\"login-form\", LoginForm);\n","// Module\nvar code = \"<form method=\\\"GET\\\" action=\\\"https://accounts.google.com/o/oauth2/v2/auth\\\" id=\\\"login_form\\\"> <input type=\\\"hidden\\\" name=\\\"client_id\\\" id=\\\"client_id\\\" value=\\\"439677686972-2c42enpqguk403j6nsb225e509n60ul9.apps.googleusercontent.com\\\"> <input type=\\\"hidden\\\" name=\\\"redirect_uri\\\" id=\\\"redirect_uri\\\"> <input type=\\\"hidden\\\" name=\\\"response_type\\\" value=\\\"token id_token\\\"> <input type=\\\"hidden\\\" name=\\\"login_hint\\\" id=\\\"login_hint\\\"> <input type=\\\"hidden\\\" name=\\\"nonce\\\" id=\\\"nonce\\\"> <input type=\\\"hidden\\\" name=\\\"scope\\\" value=\\\"openid\\\"> <button type=\\\"submit\\\">Login über Google</button> </form>\";\n// Exports\nexport default code;","import template from \"./LoginComponent.html\";\nimport \"./LoginComponent.scss\";\nimport \"../LoginForm/LoginForm\";\nimport { LoginForm } from \"../LoginForm/LoginForm\";\n\n\nexport class LoginComponent extends HTMLElement {\n    private loginForm: LoginForm;\n\n    constructor() {\n        super();\n        this.innerHTML = template;\n        this.loginForm = this.querySelector(\"login-form\");\n    }\n\n    connectedCallback() {\n        if (\"FederatedCredential\" in window) {\n            navigator.credentials.get({\n                federated: {\n                    providers: [\n                        \"https://google.wettma.kesal.at\"\n                    ]\n                },\n                mediation: \"optional\"\n            }).then(c => {\n                if (c && c.type == \"federated\") {\n                    this.loginForm.setLoginHint(c.id);\n                    this.loginForm.submit();\n                }\n            });\n        }\n    }\n\n    disconnectedCallback() {\n\n    }\n}\n\ncustomElements.define(\"login-component\", LoginComponent);","// Module\nvar code = \"<div class=\\\"container\\\"> <section class=\\\"section\\\"> <h2> Login </h2> <p>Du musst dich zuerst anmelden bevor du fortfahren kannst.</p> <login-form></login-form> </section> </div>\";\n// Exports\nexport default code;","import { Action as Action } from \"./Action\";\nimport { ActionType as ActionType } from \"./ActionType\";\n\nexport class RegisterAction implements Action {\n    constructor(public displayName: string) { }\n    readonly type = ActionType.Register;\n}\n\n","import { abortableEventListener } from \"../../abortable-event-listener\";\nimport { AppRouter } from \"../../app-router\";\nimport { RegisterAction } from \"../../state/requests/RegisterAction\";\nimport { RequestState, State } from \"../../state/state\";\nimport { Store } from \"../../state/store\";\nimport template from \"./RegisterComponent.html\";\nimport \"./RegisterComponent.scss\";\n\nexport class RegisterComponent extends HTMLElement {\n    private form: HTMLFormElement;\n    private abortController: AbortController;\n    private store: Store;\n    private registerFailed: HTMLSpanElement;\n    private router: AppRouter;\n\n    constructor() {\n        super();\n        this.innerHTML = template;\n        this.form = this.querySelector(\"form\");\n        this.registerFailed = this.querySelector(\"#register-failed\");\n        this.store = Store.getInstance();\n        this.router = AppRouter.getInstance();\n    }\n\n    connectedCallback() {\n        this.abortController = new AbortController();\n        abortableEventListener(this.form, \"submit\", ev => this.onFormSubmit(ev), this.abortController.signal);\n        this.store.subscribe(s => this.updateState(s), this.abortController.signal);\n        this.updateState(this.store.state);\n    }\n\n    updateState(s: State) {\n        if (null == s) {\n            return;\n        }\n        if (s.register == RequestState.Successful) {\n            this.router.router.navigate(\"\", \"wettma\", true);\n        }\n        this.registerFailed.style.display = s.register == RequestState.Failed ? \"inline\" : \"none\";\n    }\n\n    onFormSubmit(ev: Event) {\n        ev.preventDefault();\n        let name: string = <string>(new FormData(this.form).get(\"display-name\"));\n        this.store.postAction(new RegisterAction(name));\n    }\n\n    disconnectedCallback() {\n        this.abortController.abort();\n    }\n}\n\ncustomElements.define(\"register-component\", RegisterComponent);\n","// Module\nvar code = \"<div class=\\\"container\\\"> <section class=\\\"section\\\"> <h2> Anzeigenamen </h2> <p>Lege einen Anzeigenamen fest. Dieser wird <strong>für alle ersichtlich</strong> in der Rangliste angezeigt.</p> <form> <label for=\\\"display-name\\\">Anzeigename</label> <input type=\\\"text\\\" id=\\\"display-name\\\" name=\\\"display-name\\\" maxlength=\\\"15\\\" required=\\\"required\\\"> <button type=\\\"submit\\\">Speichern</button> </form> <span style=\\\"display:none\\\" id=\\\"register-failed\\\">Registrierung fehlgeschlagen</span> </section> </div>\";\n// Exports\nexport default code;","import { ContainerRouteRenderer, Router } from \"route-it\";\nimport { AsyncRouteResolver } from \"route-it/dist/router\";\nimport { HomeComponent } from \"./components/HomeComponent/HomeComponent\";\nimport { LoginComponent } from \"./components/LoginComponent/LoginComponent\";\nimport { RegisterComponent } from \"./components/RegisterComponent/RegisterComponent\";\n\nexport class AppRouter {\n    activeRoute: string;\n    static instance: AppRouter = null;\n    router: Router<HTMLElement>;\n    static getInstance() {\n        if (null == this.instance) {\n            this.instance = new AppRouter();\n        }\n        return this.instance;\n    }\n\n    constructor() {\n        let self = this;\n        class AppRouteResolver implements AsyncRouteResolver<HTMLElement> {\n            async resolve(lastRoute: string, currentRoute: string, router: Router<any>): Promise<false | HTMLElement> {\n                switch (currentRoute) {\n                    case \"login\":\n                        self.activeRoute = \"login\";\n                        return new LoginComponent();\n                    case \"register\":\n                        self.activeRoute = \"register\";\n                        return new RegisterComponent();\n                    case \"explanation\":\n                        self.activeRoute = \"explanation\";\n                        let { ExplanationComponent } = await import(\"./components/ExplanationComponent/ExplanationComponent\");\n                        return new ExplanationComponent();\n                    case \"scoreboard\":\n                        self.activeRoute = \"scoreboard\";\n                        let { ScoreboardComponent } = await import(\"./components/ScoreboardComponent/ScoreboardComponent\");\n                        return new ScoreboardComponent();\n                    case \"setresult\":\n                        self.activeRoute = \"setresult\";\n                        let { SetResultComponent } = await import(\"./components/SetResultComponent/SetResultComponent\");\n                        return new SetResultComponent();\n                    default:\n                        self.activeRoute = \"home\";\n                        let c = new HomeComponent();\n                        return c;\n                }\n            }\n        }\n        this.router = new Router<HTMLElement>(new AppRouteResolver(), new ContainerRouteRenderer(document.getElementById(\"content\")));\n    }\n}\n","import { AccessToken } from \"../../AccessToken\";\nimport { Action as Action } from \"./Action\";\nimport { ActionType as ActionType } from \"./ActionType\";\n\n\nexport class Initialize implements Action {\n    constructor(public accessToken: AccessToken) { }\n    readonly type = ActionType.Initialize;\n}\n","import { Action as Action } from \"./Action\";\nimport { ActionType as ActionType } from \"./ActionType\";\n\n\nexport class LoginPageOpened implements Action {\n    constructor() { }\n    readonly type = ActionType.LoginPageOpened;\n}\n","import { Action as Action } from \"./Action\";\nimport { ActionType as ActionType } from \"./ActionType\";\n\n\nexport class LogoutAction implements Action {\n    constructor() { }\n    readonly type = ActionType.Logout;\n}\n","import { abortableEventListener } from \"../../abortable-event-listener\";\nimport { AppRouter } from \"../../app-router\";\nimport { LogoutAction } from \"../../state/requests/LogoutAction\";\nimport { State } from \"../../state/state\";\nimport { Store } from \"../../state/store\";\nimport template from \"./AppBar.html\";\nimport \"./AppBar.scss\";\n\nexport class AppBar extends HTMLElement {\n    private store: Store;\n    private abortController: AbortController;\n    private displayName: HTMLSpanElement;\n    private logoutBtn: HTMLButtonElement;\n    private userContainer: HTMLDivElement;\n    private loginBtn: HTMLButtonElement;\n    private router: AppRouter;\n\n    constructor() {\n        super();\n        this.innerHTML = template;\n        this.store = Store.getInstance();\n        this.router = AppRouter.getInstance();\n        this.displayName = this.querySelector(\"#logged-in-user\");\n        this.logoutBtn = this.querySelector(\"#logout\");\n        this.loginBtn = this.querySelector(\"#login\");\n        this.userContainer = this.querySelector(\"#user-container\");\n    }\n\n    connectedCallback() {\n        this.abortController = new AbortController();\n        abortableEventListener(this.logoutBtn, \"click\", ev => {\n            this.store.postAction(new LogoutAction());\n            sessionStorage.clear();\n        }, this.abortController.signal);\n        abortableEventListener(this.loginBtn, \"click\", ev => {\n            this.router.router.navigate(\"login\", \"wettma - Login\");\n        }, this.abortController.signal);\n        this.store.subscribe(s => this.updateState(s), this.abortController.signal);\n        this.updateState(this.store.state);\n        abortableEventListener(this.querySelector(\"a\"), \"click\", e => {\n            e.preventDefault();\n            this.router.router.navigate(\"\", \"wettma\");\n        }, this.abortController.signal);\n    }\n\n    updateState(s:State) {\n        if (null == s) {\n            return;\n        }\n        this.displayName.innerText = s.displayName || \"\";\n        this.displayName.style.display = s.accessToken ? \"inline\" : \"none\";\n        this.logoutBtn.style.display = s.accessToken ? \"inline\" : \"none\";\n        this.loginBtn.style.display = s.accessToken ? \"none\" : \"inline\";\n    }\n\n    disconnectedCallback() {\n        this.abortController.abort();\n    }\n}\n\ncustomElements.define(\"app-bar\", AppBar);\n","// Module\nvar code = \"<div class=\\\"app-bar__container\\\"> <nav class=\\\"app-bar\\\"> <a href=\\\"\\\"> <h1> <span class=\\\"material-icons\\\"> sports_soccer </span> wettma</h1> </a> <div class=\\\"user-container\\\" id=\\\"user-container\\\"> <span id=\\\"logged-in-user\\\"></span> <button id=\\\"logout\\\" style=\\\"display:none\\\">Logout</button> <button id=\\\"login\\\" style=\\\"display:none\\\">Login</button> </div> </nav> </div>\";\n// Exports\nexport default code;","import { AccessToken } from \"./AccessToken\";\nimport { AppRouter } from \"./app-router\";\nimport { Initialize } from \"./state/requests/Initialize\";\nimport { LoginPageOpened } from \"./state/requests/LoginPageOpened\";\nimport { Store } from \"./state/store\";\nimport \"./styles.scss\";\nimport \"./components/AppBar/AppBar\";\n\nif (\"serviceWorker\" in navigator) {\n    window.addEventListener(\"load\", async () => {\n        navigator.serviceWorker.register(\"./sw.js\").then(registration => {\n        }).catch(registrationError => {\n            console.log('SW registration failed: ', registrationError);\n        });\n    });\n}\n\nasync function getAccessToken() {\n    const sessionStorageKey = \"wettma-webapp-token\";\n    let searchParameters = new URLSearchParams(window.location.hash.replace(/^#/, \"\"))\n    let tokenFromUrl = searchParameters.get(\"id_token\");\n    if (tokenFromUrl) {\n        history.replaceState(null, null, \" \");\n        let res = await fetch(`https://oauth2.googleapis.com/tokeninfo?id_token=${tokenFromUrl}`);\n        let tokenInfo = await res.json();\n        if (!res.ok) {\n            throw new Error(`access token validation resulted in ${res.status}`);\n        }\n        let exp = +(new Date) + parseInt(searchParameters.get(\"expires_in\")) * 1000;\n        let token: AccessToken = {\n            token: tokenFromUrl,\n            exp: exp,\n            scope: tokenInfo.scope,\n            sub: tokenInfo.sub\n        };\n        sessionStorage.setItem(sessionStorageKey, JSON.stringify(token));\n        if (\"FederatedCredential\" in window) {\n            var cred = await navigator.credentials.create({\n                federated: {\n                    id: tokenInfo.sub,\n                    provider: \"https://google.wettma.kesal.at/\"\n                }\n            });\n            await navigator.credentials.store(cred);\n        }\n        return token;\n    } else {\n        let sessionToken = sessionStorage.getItem(sessionStorageKey);\n        if (null != sessionToken) {\n            let parsed: AccessToken = JSON.parse(sessionToken);\n            if (parsed.exp > +new Date()) {\n                return parsed;\n            }\n        }\n    }\n    return null;\n}\n\nasync function run() {\n    let appRouter = AppRouter.getInstance();\n    appRouter.router.run();\n\n    let store = Store.getInstance();\n    store.subscribe(state => {\n        if (state.goToLogin && appRouter.activeRoute != \"login\") {\n            store.postAction(new LoginPageOpened());\n            appRouter.router.navigate(\"login\", \"wettma - Login\");\n        }\n        else if (state.goToRegister && appRouter.activeRoute != \"register\") {\n            store.postAction(new LoginPageOpened());\n            appRouter.router.navigate(\"register\", \"wettma - Registrieren\");\n        }\n    })\n\n    let accessToken = await getAccessToken();\n    store.postAction(new Initialize(accessToken));\n}\nrun().catch(err => console.error(err));","import { AccessToken } from \"../AccessToken\";\nimport { ScoreboardEntry } from \"../models/ScoreboardEntry\";\nimport { UpcomingGame } from \"../models/UpcomingGame\";\nimport { FinishedGame } from \"../models/FinishedGame\";\nimport { GameBets } from \"../models/GameBets\";\n\nexport enum RequestState {\n    Unset,\n    InProgress,\n    Successful,\n    Failed\n}\n\nexport interface State {\n    goToLogin: boolean;\n    upcomingGames: UpcomingGame[];\n    finishedGames: FinishedGame[];\n    accessToken: AccessToken;\n    goToRegister: boolean;\n    displayName: string;\n    userId: string;\n    register: RequestState;\n    scoreboardRequest: RequestState;\n    scoreboard: ScoreboardEntry[];\n    setResultRequest: RequestState;\n    gameBets: { [gameId: number]: GameBets }\n}\n","import { Action } from \"./requests/Action\";\nimport { State } from \"./state\";\n\ninterface Subscription<State> {\n    call(a: State): void;\n}\n\nexport class Store {\n    private static instance: Store = null;\n    private worker: Worker;\n    private subscriptions: Subscription<State>[];\n    private _state: State = null;\n\n    get state() {\n        return this._state;\n    }\n\n    static getInstance() {\n        if (null == this.instance) {\n            this.instance = new Store();\n        }\n        return this.instance;\n    }\n\n    constructor() {\n        this.subscriptions = [];\n        this.worker = new Worker(new URL(\"./worker\", import.meta.url));\n        this.worker.addEventListener(\"message\", ev => {\n            this._state = ev.data;\n            for (let s of this.subscriptions) {\n                try {\n                    s.call(this._state);\n                }\n                catch (err) {\n                    console.error(`Error while updating`, err);\n                }\n\n            }\n        });\n    }\n\n    subscribe(call: (a: State) => void, signal?: AbortSignal) {\n        let sub = { call };\n        this.subscriptions.push(sub);\n        if (signal) {\n            signal.addEventListener(\"abort\", () => {\n                this.subscriptions.splice(this.subscriptions.indexOf(sub), 1);\n            });\n        }\n    }\n\n    postAction(action: Action) {\n        this.worker.postMessage(action);\n    }\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = function(chunkId) {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce(function(promises, key) {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = function(chunkId) {\n\t// return url for filenames based on template\n\treturn \"\" + {\"151\":\"5f701e33c6e3a519e0b5\",\"554\":\"e394b3f5693432c0de65\",\"698\":\"313ac6f0e056512fbfaa\",\"772\":\"765a6a328a1b749fa7ee\",\"876\":\"e3eb66b34a4a0f3e9c7f\"}[chunkId] + \".bundle.js\";\n};","// This function allow to reference all chunks\n__webpack_require__.miniCssF = function(chunkId) {\n\t// return url for filenames based on template\n\treturn \"\" + chunkId + \".\" + {\"151\":\"8c5b220bf6f482881a90\",\"554\":\"8c5b220bf6f482881a90\",\"698\":\"8c5b220bf6f482881a90\",\"876\":\"e638006b9f8506ee2a07\"}[chunkId] + \".css\";\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"/\";","__webpack_require__.b = document.baseURI || self.location.href;\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t826: 0\n};\n\n__webpack_require__.f.j = function(chunkId, promises) {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise(function(resolve, reject) { installedChunkData = installedChunks[chunkId] = [resolve, reject]; });\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = function(event) {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t} else installedChunks[chunkId] = 0;\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tfor(moduleId in moreModules) {\n\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t}\n\t}\n\tif(runtime) var result = runtime(__webpack_require__);\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkIds[i]] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkwettma\"] = self[\"webpackChunkwettma\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [401], function() { return __webpack_require__(4199); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"sourceRoot":""}